(self.AMP=self.AMP||[]).push({m:0,v:"2207071723000",n:"amp-analytics",ev:"0.1",l:!0,f:function(t,e){!function(){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i;function r(){return i||(i=Promise.resolve(void 0))}var o=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function s(t){return new Promise((function(e){e(t())}))}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}var v=Array.isArray;function m(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function p(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)==n}function g(t,e,n){for(var i=n||1,r=function(n){var i=0;if(t=t.replace(/\${([^{}]*)}/g,(function(t,n){return i++,e(n)})),!i)return"break"},o=0;o<i&&"break"!==r();o++);return t}var T,S=Object.prototype,b=S.hasOwnProperty,A=S.toString;function E(t){return"[object Object]"===A.call(t)}function y(t){var e=Object.create(null);return t&&Object.assign(e,t),e}function w(t,e){return b.call(t,e)}function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=[],r=[];for(r.push({t:t,s:e,d:0});r.length>0;){var o=r.shift(),s=o.d,a=o.s,u=o.t;if(i.includes(a))throw new Error("Source object has a circular reference.");if(i.push(a),u!==a)if(s>n)Object.assign(u,a);else for(var c=0,h=Object.keys(a);c<h.length;c++){var l=h[c],f=a[l];if(w(u,l)){var d=u[l];if(E(f)&&E(d)){r.push({t:d,s:f,d:s+1});continue}}u[l]=f}}return t}function R(t){return"number"==typeof t&&isFinite(t)}function _(t,e,n,i,r,o,s,a,u,c,h){return t}function M(t){return JSON.parse(t)}function I(t,e){try{return M(t)}catch(t){return null==e||e(t),null}}function P(t){return(t.ownerDocument||t).defaultView}function N(t){return void 0!==T?T:T=function(t){try{var e=t.ownerDocument,n=e.createElement("div"),i=e.createElement("div");return n.appendChild(i),n.querySelector(":scope div")===i}catch(t){return!1}}(t)}function C(t,e){return t.replace(/^|,/g,"$&".concat(e," "))}function L(t,e){var n=t.classList,i="i-amphtml-scoped";n.add(i);var r=C(e,".".concat(i)),o=t.querySelectorAll(r);return n.remove(i),o}function x(t,e){if(N(t))return t.querySelector(C(e,":scope"));var n=L(t,e)[0];return void 0===n?null:n}function D(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,e)}function k(t,e){return t.closest?t.closest(e):function(t,e,n){var i;for(i=t;i&&void 0!==i;i=i.parentElement)if(e(i))return i;return null}(t,(function(t){return D(t,e)}))}function V(t,e,n){return function(t,e){for(var n in e)t.setAttribute(n,e[n]);return t}(t.createElement(e),n)}function q(t,e,n){var i=e||function(t){return t},r=t.dataset,o={},s=n||/^param(.+)/;for(var a in r){var u=a.match(s);u&&(o[i(u[1][0].toLowerCase()+u[1].substr(1))]=r[a])}return o}function U(t){return t.parent&&t.parent!=t}function j(t){var e=Object.getOwnPropertyDescriptor(t,"message");if(null!=e&&e.writable)return t;var n=t.message,i=t.stack,r=new Error(n);for(var o in t)r[o]=t[o];return r.stack=i,r}function H(t){for(var e,i=null,r="",o=n(arguments,!0);!(e=o()).done;){var s=e.value;s instanceof Error&&!i?i=j(s):(r&&(r+=" "),r+=s)}return i?r&&(i.message=r+": "+i.message):i=new Error(r),i}function G(t){var e,n;null===(e=(n=self).__AMP_REPORT_ERROR)||void 0===e||e.call(n,t)}function B(t){var e=H.apply(null,arguments);setTimeout((function(){throw G(e),e}))}var F=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return e}}function W(t){var e,n=y();if(!t)return n;for(;e=F.exec(t);){var i=X(e[1],e[1]),r=e[2]?X(e[2].replace(/\+/g," "),e[2]):"";n[i]=r}return n}function $(t){var e=(t||self).location;return W(e.originalHash||e.hash)}var z="";function K(t){var e=t||self;return e.__AMP_MODE?e.__AMP_MODE:e.__AMP_MODE=function(t){return{localDev:!1,development:J(t,$(t)),esm:!1,test:!1,rtvVersion:Y(t),ssrReady:!1}}(e)}function Y(t){var e;return z||(z=(null===(e=t.AMP_CONFIG)||void 0===e?void 0:e.v)||"01".concat("2207071723000")),z}function J(t,e){var n=e||$(t);return["1","actions","amp","amp4ads","amp4email"].includes(n.development)||!!t.AMP_DEV_MODE}var Q=self.AMP.config.urls;function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var tt=self.__AMP_LOG;function et(t,e){throw new Error("failed to call initLogConstructor")}function nt(t){return tt.user||(tt.user=it()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(tt.user.win,t)?tt.userForEmbed||(tt.userForEmbed=it()):tt.user}function it(t){return et()}function rt(){return tt.dev||(tt.dev=et())}function ot(t,e,n,i,r,o,s,a,u,c,h){return t}function st(t,e,n,i,r,o,s,a,u,c,h){return nt().assert(t,e,n,i,r,o,s,a,u,c,h)}function at(t,e){return pt(t=ft(t),e)}function ut(t,e){return pt(mt(vt(t)),e)}function ct(t,e){var n=mt(vt(t));return bt(n,e)?pt(n,e):null}function ht(t,e){return function(t,e){var n=Tt(t,e);if(n)return n;var i,r,s,a,u=St(t);return u[e]=(r=(i=new o).promise,s=i.reject,a=i.resolve,r.catch((function(){})),{obj:null,promise:r,resolve:a,reject:s,context:null,ctor:null}),u[e].promise}(mt(t),e)}function lt(t,e){return Tt(mt(t),e)}function ft(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function dt(t,e){var n=(t.ownerDocument||t).defaultView,i=e||ft(n);if(n&&n!=i&&ft(n)==i)try{return n.frameElement}catch(t){}return null}function vt(t){return t.nodeType?(e=P(t),at(e,"ampdoc")).getAmpDoc(t):t;var e}function mt(t){var e=vt(t);return e.isSingleDoc()?e.win:e}function pt(t,e){ot(bt(t,e));var n=St(t)[e];return n.obj||(ot(n.ctor),ot(n.context),n.obj=new n.ctor(n.context),ot(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function gt(t,e,n,i,r,o){var s=St(t),a=s[n];a||(a=s[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:o||!1}),!r&&a.ctor||(a.ctor=i,a.context=e,a.sharedInstance=o||!1,a.resolve&&pt(t,n))}function Tt(t,e){var n=St(t)[e];return n?n.promise?n.promise:(pt(t,e),n.promise=Promise.resolve(n.obj)):null}function St(t){var e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}function bt(t,e){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}function At(t,e,n,i){var r=lt(t,e);if(r)return r;var o=vt(t);return o.whenExtensionsKnown().then((function(){var t=o.getExtensionVersion(n);return t?at(o.win,"extensions").waitForExtension(n,t):null})).then((function(n){return n?i?lt(t,e):ht(t,e):null}))}var Et,yt=function(t){return vt(t)},wt=function(t){return at(t,"crypto")},Ot=function(t){return at(t,"performance")},Rt=function(t){return at(t,"preconnect")},_t=function(t){return pt(t,"timer")},Mt=function(t){return ct(t,"url-replace")},It=function(t){return At(t,"consentPolicyManager","amp-consent")},Pt=function(t){return ct(t,"url")},Nt=function(t){return ut(t,"viewport")},Ct=function(t){return at(t,"xhr")};function Lt(t,e,n,i){var r=t,o=n,s=function(t){try{return o(t)}catch(t){var e,n;throw null===(e=(n=self).__AMP_REPORT_ERROR)||void 0===e||e.call(n,t),t}},a=function(){if(void 0!==Et)return Et;Et=!1;try{var t={get capture(){return Et=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return Et}(),u=!(null==i||!i.capture);return r.addEventListener(e,s,a?i:u),function(){null==r||r.removeEventListener(e,s,a?i:u),o=null,r=null,s=null}}function xt(t,e,n,i){return Lt(t,e,n,i)}function Dt(t){return t.data}function kt(t,e,n,i){var r=n,o=Lt(t,e,(function(t){try{r(t)}finally{r=null,o()}}),i);return o}function Vt(t){return"AUDIO"===t.tagName||"VIDEO"===t.tagName}var qt="active";function Ut(t,e){var n=0;return t.type===qt&&(n=5),Math.min(e-t.time,n)}var jt=function(){function t(){this.DEt=0,this.HEt=void 0}var e=t.prototype;return e.push=function(t){this.HEt&&this.HEt.time<t.time&&(this.DEt+=Ut(this.HEt,t.time)),this.HEt=t},e.getTotalEngagedTime=function(t){var e=0;return void 0!==this.HEt&&(e=this.DEt+Ut(this.HEt,t)),e},t}(),Ht=["mousedown","mouseup","mousemove","keydown","keyup"],Gt=["mouseleave"],Bt=function(){function t(t){this.ampdoc=t,this.FEt=this.VEt.bind(this),this.qEt=this.GEt.bind(this),this.BEt=this.WEt.bind(this),this.$Et=this.YEt.bind(this),this.KEt={},this.JEt=[],this.XEt=!1,this.ZEt=!1,this.QEt=new jt,this.Pu=Nt(this.ampdoc),this.ampdoc.whenFirstVisible().then(this.Ha.bind(this))}var e=t.prototype;return e.Ha=function(){this.oc=Date.now(),this.GEt(),this.tTt()},e.nTt=function(){var t=Date.now()-this.oc;return t>0?t:0},e.VEt=function(){this.XEt=!1,this.ZEt=!1},e.tTt=function(){this.iTt(this.ampdoc.getRootNode(),Ht,this.qEt),this.iTt(this.ampdoc.getRootNode(),Gt,this.BEt),this.JEt.push(this.ampdoc.onVisibilityChanged(this.$Et)),this.Pu.onScroll(this.qEt)},e.iTt=function(t,e,n){for(var i=0;i<e.length;i++)this.JEt.push(xt(t,e[i],n))},e.GEt=function(){this.XEt||(this.XEt=!0,this.ZEt=!1,this.rTt(qt))},e.WEt=function(){this.ZEt||(this.ZEt=!0,this.XEt=!1,this.rTt("inactive"))},e.rTt=function(t){var e=this.nTt(),n=Math.floor(e/1e3),i=1e3-e%1e3;setTimeout(this.FEt,i),this.QEt.push({type:t,time:n})},e.YEt=function(){this.ampdoc.isVisible()?this.GEt():this.WEt()},e.Gb=function(){for(var t=0;t<this.JEt.length;t++){var e=this.JEt[t];"function"==typeof e&&e()}this.JEt=[]},e.Hn=function(){this.Gb()},e.getTotalEngagedTime=function(){var t=Math.floor(this.nTt()/1e3);return this.QEt.getTotalEngagedTime(t)},e.getIncrementalEngagedTime=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!w(this.KEt,t))return e&&(this.KEt[t]=this.getTotalEngagedTime()),this.getTotalEngagedTime();var n=this.KEt[t];return!1===e?this.getTotalEngagedTime()-n:(this.KEt[t]=this.getTotalEngagedTime(),this.KEt[t]-n)},t}();function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Wt="__AMP__EXPERIMENT_TOGGLES",$t=JSON.parse('{"transport":{"beacon":true,"xhrpost":true,"image":true},"vars":{"accessReaderId":"ACCESS_READER_ID","ampGeo":"AMP_GEO","ampState":"AMP_STATE","ampVersion":"AMP_VERSION","ampdocHost":"AMPDOC_HOST","ampdocHostname":"AMPDOC_HOSTNAME","ampdocMeta":"AMPDOC_META","ampdocUrl":"AMPDOC_URL","authdata":"AUTHDATA","availableScreenHeight":"AVAILABLE_SCREEN_HEIGHT","availableScreenWidth":"AVAILABLE_SCREEN_WIDTH","backgroundState":"BACKGROUND_STATE","browserLanguage":"BROWSER_LANGUAGE","canonicalHost":"CANONICAL_HOST","canonicalHostname":"CANONICAL_HOSTNAME","canonicalPath":"CANONICAL_PATH","canonicalUrl":"CANONICAL_URL","clientId":"CLIENT_ID","consentState":"CONSENT_STATE","consentString":"CONSENT_STRING","contentLoadTime":"CONTENT_LOAD_TIME","cookie":"COOKIE","counter":"COUNTER","cumulativeLayoutShift":"CUMULATIVE_LAYOUT_SHIFT","documentCharset":"DOCUMENT_CHARSET","documentReferrer":"DOCUMENT_REFERRER","domInteractiveTime":"DOM_INTERACTIVE_TIME","domainLookupTime":"DOMAIN_LOOKUP_TIME","experimentBranches":"EXPERIMENT_BRANCHES","externalReferrer":"EXTERNAL_REFERRER","firstContentfulPaint":"FIRST_CONTENTFUL_PAINT","firstInputDelay":"FIRST_INPUT_DELAY","firstViewportReady":"FIRST_VIEWPORT_READY","fragmentParam":"FRAGMENT_PARAM","htmlAttr":"HTML_ATTR","incrementalEngagedTime":"INCREMENTAL_ENGAGED_TIME","largestContentfulPaint":"LARGEST_CONTENTFUL_PAINT","makeBodyVisible":"MAKE_BODY_VISIBLE","navRedirectCount":"NAV_REDIRECT_COUNT","navTiming":"NAV_TIMING","navType":"NAV_TYPE","pageDownloadTime":"PAGE_DOWNLOAD_TIME","pageLoadTime":"PAGE_LOAD_TIME","pageViewId":"PAGE_VIEW_ID","pageViewId64":"PAGE_VIEW_ID_64","queryParam":"QUERY_PARAM","random":"RANDOM","redirectTime":"REDIRECT_TIME","resourceTiming":"RESOURCE_TIMING","screenColorDepth":"SCREEN_COLOR_DEPTH","screenHeight":"SCREEN_HEIGHT","screenWidth":"SCREEN_WIDTH","scrollHeight":"SCROLL_HEIGHT","scrollLeft":"SCROLL_LEFT","scrollTop":"SCROLL_TOP","scrollWidth":"SCROLL_WIDTH","sessionId":"SESSION_ID","sessionCount":"SESSION_COUNT","sessionEngaged":"SESSION_ENGAGED","sessionEventTimestamp":"SESSION_EVENT_TIMESTAMP","sessionTimestamp":"SESSION_TIMESTAMP","serverResponseTime":"SERVER_RESPONSE_TIME","sourceHost":"SOURCE_HOST","sourceHostname":"SOURCE_HOSTNAME","sourcePath":"SOURCE_PATH","sourceUrl":"SOURCE_URL","tcpConnectTime":"TCP_CONNECT_TIME","timestamp":"TIMESTAMP","timezone":"TIMEZONE","timezoneCode":"TIMEZONE_CODE","title":"TITLE","totalEngagedTime":"TOTAL_ENGAGED_TIME","uach":"UACH","userAgent":"USER_AGENT","viewer":"VIEWER","viewportHeight":"VIEWPORT_HEIGHT","viewportWidth":"VIEWPORT_WIDTH"}}');function zt(t){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(t):Kt(unescape(encodeURIComponent(t)))}function Kt(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++){var i=t.charCodeAt(n);_(i<=255),e[n]=i}return e}function Yt(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(t[n]);return e.join("")}var Jt={"-":"+",_:"/",".":"="},Qt={"+":"-","/":"_","=":"."};function Zt(t){return function(t){var e=Yt(t);return btoa(e).replace(/[+/=]/g,(function(t){return Qt[t]}))}(zt(t))}var te,ee,ne=function(){function t(t){this.dr=t,this.pr=0,this.mr=0,this.yr=y()}var e=t.prototype;return e.has=function(t){return!!this.yr[t]},e.get=function(t){var e=this.yr[t];if(e)return e.access=++this.mr,e.payload},e.put=function(t,e){this.has(t)||this.pr++,this.yr[t]={payload:e,access:this.mr},this.wr()},e.wr=function(){if(!(this.pr<=this.dr)){var t,e=this.yr,n=this.mr+1;for(var i in e){var r=e[i].access;r<n&&(n=r,t=i)}void 0!==t&&(delete e[t],this.pr--)}},t}(),ie=self.AMP.config.urls,re=new Set(["c","v","a","ad"]),oe=function(t){return"string"==typeof t?se(t):t};function se(t,e){return te||(te=self.document.createElement("a"),ee=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new ne(100))),function(t,e,n){if(n&&n.has(e))return n.get(e);t.href=e,t.protocol||(t.href=t.href);var i,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=i;var o=r;return n&&n.put(e,o),o}(te,t,e?null:ee)}function ae(t,e,n){if(!e)return t;var i=t.split("#",2),r=i[0].split("?",2);return r[0]+(r[1]?n?"?".concat(e,"&").concat(r[1]):"?".concat(r[1],"&").concat(e):"?".concat(e))+(i[1]?"#".concat(i[1]):"")}function ue(t,e){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))}function ce(t){var e,n=[];for(var i in t){var r=t[i];if(null!=r){r=v(e=r)?e:[e];for(var o=0;o<r.length;o++)n.push(ue(i,r[o]))}}return n.join("&")}function he(t){return"https:"==(t=oe(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||p(t.hostname,".localhost")}function le(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return st(null!=t,"%s %s must be available",e,n),st(he(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',e,n,t),t}function fe(t){return ie.cdnProxyRegex.test(oe(t).origin)}function de(t,e){if(!t||"?"==t)return"";var n=new RegExp("[?&]".concat(e,"\\b[^&]*"),"g"),i=t.replace(n,"").replace(/^[?&]/,"");return i?"?"+i:""}var ve,me=self.AMP.config.urls,pe="-test-amp-cookie-tmp",ge="None";function Te(t,e){var n=function(t){try{return t.document.cookie}catch(t){return""}}(t);if(!n)return null;for(var i=n.split(";"),r=0;r<i.length;r++){var o=i[r].trim(),s=o.indexOf("=");if(-1!=s&&X(o.substring(0,s).trim())==e){var a=o.substring(s+1).trim();return X(a,a)}}return null}function Se(t){var e=t.document.head&&t.document.head.querySelector("meta[name='amp-cookie-scope']");if(e){var n=e.getAttribute("content")||"",i=se(function(t){if(!fe(t=oe(t)))return t.href;var e=t.pathname.split("/"),n=e[1];st(re.has(n),"Unknown path prefix in url %s",t.href);var i=e[2],r="s"==i?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(i);return st(r.indexOf(".")>0,"Expected a . in origin %s",r),e.splice(1,"s"==i?3:2),r+e.join("/")+de(t.search,"(amp_(js[^&=]*|gsa|r|kit)|usqp)")+(t.hash||"")}(t.location.href)).origin;return p(i,"."+n)?n:i.split("://")[1]}if(!fe(t.location.href))for(var r=t.location.hostname.split("."),o=r[r.length-1],s=function(t){for(var e=pe;Te(t,e);)e=pe+0;return e}(t),a=r.length-2;a>=0;a--)if(o=r[a]+"."+o,be(t,s,"delete",Date.now()+1e3,o),"delete"==Te(t,s))return be(t,s,"delete",Date.now()-1e3,o),o;return null}function be(t,e,n,i,r,o,s){"ampproject.org"==r&&(n="delete",i=0);var a=encodeURIComponent(e)+"="+encodeURIComponent(n)+"; path=/"+(r?"; domain="+r:"")+"; expires="+new Date(i).toUTCString()+function(t,e){return e?"; SameSite=".concat(e):""}(0,o)+(s?"; Secure":"");try{t.document.cookie=a}catch(t){}}function Ae(t,e,n){if(e.allowOnProxyOrigin)st(!e.highestAvailableDomain,"Could not support highestAvailable Domain on proxy origin, specify domain explicitly");else{st(!fe(t.location.href),"Should never attempt to set cookie on proxy origin: ".concat(n));var i=se(t.location.href).hostname.toLowerCase(),r=se(me.cdn).hostname.toLowerCase();st(!(i==r||p(i,"."+r)),"Should never attempt to set cookie on proxy origin. (in depth check): "+n)}}function Ee(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}var ye=["Webkit","webkit","Moz","moz","ms","O","o"],we={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function Oe(t,e,n){if(e.startsWith("--"))return e;ve||(ve=y());var i=ve[e];if(!i||n){if(i=e,void 0===t[e]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),o=function(t,e){for(var n=0;n<ye.length;n++){var i=ye[n]+e;if(void 0!==t[i])return i}return""}(t,r);void 0!==t[o]&&(i=o)}n||(ve[e]=i)}return i}function Re(t,e,n,i,r){var o=Oe(t.style,e,r);if(o){var s,a=i?n+i:n;t.style.setProperty((s=o.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),ye.some((function(t){return s.startsWith(t+"-")}))?"-".concat(s):s),a)}}function _e(t,e){void 0===e&&(e=t.hasAttribute("hidden")),e?t.removeAttribute("hidden"):t.setAttribute("hidden","")}var Me="unlisten";function Ie(t,e,n){var i=function(t,e){var n=t.listeningFors;return!n&&e&&(n=t.listeningFors=Object.create(null)),n||null}(t,n);if(!i)return i;var r=i[e];return!r&&n&&(r=i[e]=[]),r||null}function Pe(t,e){for(var n=e;n&&n!=n.parent;n=n.parent)if(n==t)return!0;return!1}function Ne(t){for(var e={sentinel:Me},n=t.length-1;n>=0;n--){var i=t[n];if(!i.frame.contentWindow){t.splice(n,1);var r=i.events;for(var o in r)r[o].splice(0,1/0).forEach((function(t){t(e)}))}}}function Ce(t,e){return e?t.getAttribute("data-amp-3p-sentinel"):"amp"}var Le=function(){function t(t,e,n,i){var r=this;this.ub=t,this.Mb=n,this.zb=[],this.Gb=function(t,e,n,i,r,o){ot(t.src),ot(!t.parentNode),ot(n);var s=t.ownerDocument.defaultView;!function(t){t.listeningFors||t.addEventListener("message",(function(e){if(Dt(e)){var n=function(t){return"string"==typeof t&&(t="{"==t.charAt(0)?I(t,(function(t){rt().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",t)}))||null:Ee(t)?function(t){if(!Ee(t))return null;var e=t.indexOf("{");return _(-1!=e),I(t.substr(e),(function(e){B(new Error("MESSAGING: Failed to parse message: ".concat(t,"\n").concat(e.message)))}))}(t):null),t}(Dt(e));if(n&&n.sentinel){var i=function(t,e,n,i){var r,o=Ie(t,e);if(!o)return o;for(var s=0;s<o.length;s++){var a=o[s],u=a.frame.contentWindow;if(u){if(i==u||Pe(u,i)){r=a;break}}else setTimeout(Ne,0,o)}return r?r.events:null}(t,n.sentinel,e.origin,e.source);if(i){var r=i[n.type];if(r){r=r.slice();for(var o=0;o<r.length;o++)(0,r[o])(n,e.source,e.origin,e)}}}}}))}(s);var a,u=function(t,e,n){for(var i,r=Ie(t,Ce(e,n),!0),o=0;o<r.length;o++){var s=r[o];if(s.frame===e){i=s;break}}return i||(i={frame:e,events:Object.create(null)},r.push(i)),i.events}(s,t,i),c=se(t.src).origin,h=u[e]||(u[e]=[]),l=function(e,i,o,s){if("amp"==e.sentinel){if(i!=t.contentWindow)return;if(c!=o)return}(r||i==t.contentWindow)&&(e.sentinel!=Me?n(e,i,o,s):a())};return h.push(l),a=function(){if(l){var t=h.indexOf(l);t>-1&&h.splice(t,1),l=null,h=null,n=null}}}(this.ub,e,(function(t,e,n){r.zb.some((function(t){return t.win==e}))||r.zb.push({win:e,origin:n}),i(t,e,n)}),this.Mb,this.Mb)}var e=t.prototype;return e.send=function(t,e){(function(t,e){for(var n=[],i=0,r=0;r<t.length;r++){var o=t[r];o.win.parent?(i<r&&(t[i]=o),i++):n.push(o)}i<t.length&&(t.length=i)})(this.zb),function(t,e,n,i,r){if(t.contentWindow){i.type=n,i.sentinel=Ce(t,r);var o=i;r&&(o="amp-"+JSON.stringify(i));for(var s=0;s<e.length;s++){var a=e[s];a.win.postMessage(o,a.origin)}}}(this.ub,this.zb,t,e,this.Mb)},e.destroy=function(){this.Gb(),this.zb.length=0},t}();function xe(t){return t.__AMP_EMBED__}function De(t){return t.classList.contains("i-amphtml-fie")||!!k(t,".i-amphtml-fie")}function ke(t,e){return!(De(e)||fe(t.location)||"inabox"==K(t).runtime)}var Ve=function(){function t(){}return t.getTop=function(t){return t.top},t.getLocation=function(t){return t.location},t.getDocumentReferrer=function(t){return t.document.referrer},t.getHostname=function(t){return t.location.hostname},t.getUserAgent=function(t){return t.navigator.userAgent},t.getUserLanguage=function(t){return t.navigator.userLanguage||t.navigator.language},t.getDevicePixelRatio=function(){return self.devicePixelRatio||1},t.getSendBeacon=function(t){if(t.navigator.sendBeacon)return t.navigator.sendBeacon.bind(t.navigator)},t.getXMLHttpRequest=function(t){return t.XMLHttpRequest},t.getImage=function(t){return t.Image},t}(),qe=null,Ue="*",je=/^[a-zA-Z0-9\-_.]+$/,He="amp-analytics/linker";function Ge(t,e){var n,i=(n=e)?Object.keys(n).filter((function(t){var e=je.test(t);return e||nt().error(He,"Invalid linker key: "+t),e})).map((function(t){return t+Ue+(e=n[t],Zt(String(e)));var e})).join(Ue):"";return""===i?"":[t,Be(i),i].join(Ue)}function Be(t,e){var n,i,r=e||0;return function(t){qe||(qe=function(){for(var t=new Array(256),e=0;e<256;e++){for(var n=e,i=0;i<8;i++)1&n?n=n>>>1^3988292384:n>>>=1;t[e]=n}return t}());for(var e=zt(t),n=-1>>>0,i=0;i<e.length;i++){var r=255&(n^e[i]);n=n>>>8^qe[r]}return(-1^n)>>>0}([(n=(new Date).getTimezoneOffset(),i=Ve.getUserLanguage(window),[Ve.getUserAgent(window),n,i].join(Ue)),Math.floor(Date.now()/6e4)-r,t].join(Ue)).toString(36)}function Fe(t){return function(t){if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8").decode(t);var e=Yt(new Uint8Array(t.buffer||t));return decodeURIComponent(escape(e))}(function(t){return Kt(atob(t.replace(/[-_.]/g,(function(t){return Jt[t]}))))}(String(t)))}var Xe=function(){function t(t){this.t=t,this.zL={}}var e=t.prototype;return e.get=function(t,e){return t&&e?(w(this.zL,t)||(this.zL[t]=this.eTt(t)),this.zL[t]&&this.zL[t][e]?this.zL[t][e]:null):(nt().error("amp-analytics/linker-reader","LINKER_PARAM requires two params, name and id"),null)},e.eTt=function(t){var e=W(this.t.location.search);if(!w(e,t))return null;var n=e[t];return this.uTt(this.t.location,t),function(t){var e=function(t){var e=t.split(Ue),n=e.length%2==0;if(e.length<4||!n)return nt().error(He,"Invalid linker_param value ".concat(t)),null;var i=Number(e.shift());return 1!==i?(nt().error(He,"Invalid version number ".concat(i)),null):{checksum:e.shift(),serializedIds:e.join(Ue)}}(t);if(!e)return null;var n=e.checksum,i=e.serializedIds;return function(t,e){for(var n=0;n<=1;n++)if(Be(t,n)==e)return!0;return!1}(i,n)?function(t){for(var e={},n=t.split(Ue),i=0;i<n.length;i+=2){var r=n[i];if(je.test(r)){var o=Fe(n[i+1]);e[r]=o}else nt().error(He,"Invalid linker key ".concat(r,", value ignored"))}return e}(i):(nt().error(He,"LINKER_PARAM value checksum not valid"),null)}(n)},e.uTt=function(t,e){if(this.t.history.replaceState){var n=de(t.search,e),i=t.origin+t.pathname+n+(t.hash||"");this.t.history.replaceState(null,"",i)}},t}(),We="visible",$e="amp-analytics/session-manager",ze="sessionId",Ke="creationTimestamp",Ye="accessTimestamp",Je="engaged",Qe="eventTimestamp",Ze="count",tn=function(){function t(t){this.UC=ht(t,"storage"),this.sTt=y(),this.Xi=t,this.t=t.win,this.jw=[],this.oTt=null,this.Ee=null,this.aTt=!0,this.zo()}var e=t.prototype;return e.zo=function(){var t=this;this.hTt(),this.jw.push(xt(this.t,"focus",(function(){t.oTt=!0,t.cTt()})),xt(this.t,"blur",(function(){t.oTt=!1,t.cTt()})),xt(this.t,"pageshow",(function(){t.aTt=!0,t.cTt()})),xt(this.t,"pagehide",(function(){t.aTt=!1,t.cTt()})),this.Xi.onVisibilityChanged((function(){t.Ee=t.Xi.isVisible(),t.cTt()})))},e.hTt=function(){this.oTt=this.t.document.hasFocus(),this.Ee=!(function(t){var e=t[Oe(t,"visibilityState",!0)];if(e)return e;var n=Oe(t,"hidden",!0);return n in t&&t[n]?"hidden":We}(this.t.document)!=We)},e.cTt=function(){var t=this;Object.keys(this.sTt).forEach((function(e){var n=t.sTt[e];n.engaged=t.fTt(),t.lTt(e,n)}))},e.dispose=function(){this.jw.forEach((function(t){t()})),this.jw.length=0},e.getSessionValue=function(t,e){return this.get(t).then((function(t){return null==t?void 0:t[e]}))},e.updateEvent=function(t){return this.get(t,(function(t){t.eventTimestamp=Date.now()}))},e.get=function(t,e){return t?w(this.sTt,t)&&!en(this.sTt[t])?(this.sTt[t]=this.vTt(this.sTt[t]),null==e||e(this.sTt[t]),this.lTt(t,this.sTt[t]),Promise.resolve(this.sTt[t])):this.dTt(t,e):(nt().error($e,"Sessions can only be accessed with a vendor type."),Promise.resolve(null))},e.dTt=function(t,e){var n=this;return this.UC.then((function(e){var n=rn(t);return e.get(n)})).then((function(t){return t?n.vTt(E(e=t)?(Z(r={},ze,e.sessionId),Z(r,Ke,e.creationTimestamp),Z(r,Ze,e.count),Z(r,Ye,e.accessTimestamp),Z(r,Qe,e.eventTimestamp),Z(r,Je,null===(i=e.engaged)||void 0===i||i),r):(rt().error($e,"Invalid stored session value"),on()),!0):on(n.fTt());var e,i,r})).then((function(i){return t in n.sTt&&!en(n.sTt[t])||(null==e||e(i),n.lTt(t,i),n.sTt[t]=i),n.sTt[t]}))},e.vTt=function(t,e){var n=t.count,i=Date.now();if(en(t)){var r=(null!=n?n:0)+1;t=on(this.fTt(),r)}else{var o=e&&t.engaged;t.engaged=o||this.fTt(),o&&(this.oTt=!0,this.aTt=!0,this.Ee=!0)}return t.accessTimestamp=i,t},e.fTt=function(){return this.aTt&&this.Ee&&this.oTt},e.lTt=function(t,e){return this.UC.then((function(n){var i=rn(t);n.setNonBoolean(i,e)}))},t}();function en(t){return t.accessTimestamp+18e5<Date.now()}function nn(){return Math.round(1e4*Math.random())}function rn(t){return"amp-session:"+t}function on(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Z(e={},ze,nn()),Z(e,Ke,Date.now()),Z(e,Ye,Date.now()),Z(e,Ze,n),Z(e,Qe,void 0),Z(e,Je,t),e}function sn(t){return ht(t,"amp-analytics-session")}function an(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return It(t).then((function(t){return t?t.getConsentStringInfo(e):null}))}var un="amp-analytics/variables",cn=/^(?:([^\s]*)(\([^)]*\))|[^]+)$/,hn={1:"sufficient",2:"insufficient",3:"not_required",4:"unknown"},ln=function(){function t(t,e,n){this.vars=t,this.iterations=void 0===e?2:e,this.noEncode=!!n,this.freezeVars={}}var e=t.prototype;return e.freezeVar=function(t){this.freezeVars[t]=!0},e.getVar=function(t){var e=this.vars[t];return null==e&&(e=""),e},t}();function fn(t,e,n){var i=Number(e),r=t.length;return st(R(i),"Start index "+i+"in substr macro should be a number"),n&&st(R(r=Number(n)),"Length "+r+" in substr macro should be a number"),t.substr(i,r)}function dn(t,e){return t&&t.length?t:e}function vn(t,e,n){e||nt().warn(un,"REPLACE macro must have two or more arguments"),n||(n="");var i=new RegExp(e,"g");return t.replace(i,n)}function mn(t,e,n){e||nt().warn(un,"MATCH macro must have two or more arguments");var i=0;n&&(0!=(i=parseInt(n,10))&&!i||i<0)&&(nt().error(un,"Third argument in MATCH macro must be a number >= 0"),i=0);var r=new RegExp(e),o=t.match(r);return o&&o[i]?o[i]:""}function pn(t,e,n,i){var r=Number(t),o=Number(e);st(!isNaN(r),"CALC macro - left operand must be a number"),st(!isNaN(o),"CALC macro - right operand must be a number");var s=0;switch(n){case"add":s=r+o;break;case"subtract":s=r-o;break;case"multiply":s=r*o;break;case"divide":st(o,"CALC macro - cannot divide by 0"),s=r/o;break;default:nt().error(un,"CALC macro - Invalid operation")}return yn(i)?Math.round(s):s}var gn=function(){function t(t){var e=this;this.Xi=t,this.bP={},this.JL=at(this.Xi.win,"amp-analytics-linker-reader"),this.mTt=sn(this.Xi),this.TA("$DEFAULT",dn),this.TA("$SUBSTR",fn),this.TA("$TRIM",(function(t){return t.trim()})),this.TA("$TOLOWERCASE",(function(t){return t.toLowerCase()})),this.TA("$TOUPPERCASE",(function(t){return t.toUpperCase()})),this.TA("$NOT",(function(t){return String(!t)})),this.TA("$BASE64",(function(t){return Zt(t)})),this.TA("$HASH",this.pTt.bind(this)),this.TA("$IF",(function(t,e,n){return yn(t)?e:n})),this.TA("$REPLACE",vn),this.TA("$MATCH",mn),this.TA("$CALC",pn),this.TA("$EQUALS",(function(t,e){return t===e})),this.TA("LINKER_PARAM",(function(t,n){return e.JL.get(t,n)})),this.TA("TIMEZONE_CODE",(function(){var t="";return"Intl"in e.Xi.win&&"DateTimeFormat"in e.Xi.win.Intl&&(t=(new e.Xi.win.Intl.DateTimeFormat).resolvedOptions().timeZone),t})),this.TA("SCROLL_TOP",(function(){return Math.round(Nt(e.Xi).getScrollTop())})),this.TA("SCROLL_LEFT",(function(){return Math.round(Nt(e.Xi).getScrollLeft())})),this.TA("EXPERIMENT_BRANCHES",(function(t){return function(t,e){if(e)return function(t,e){return t.__AMP_EXPERIMENT_BRANCHES?t.__AMP_EXPERIMENT_BRANCHES[e]:null}(t,e)||"";var n=function(t){var e=ft(t);return e.__AMP_EXPERIMENT_BRANCHES||(e.__AMP_EXPERIMENT_BRANCHES={}),Xt({},e.__AMP_EXPERIMENT_BRANCHES)}(t);return Object.keys(n).map((function(t){return"".concat(t,":").concat(n[t])})).join(",")}(e.Xi.win,t)})),this.TA("AMPDOC_META",(function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(n=e.Xi.getMetaByName(t))&&void 0!==n?n:i}))}var e=t.prototype;return e.getMacros=function(t){var e=this,n=t.getAttribute("type"),i={COOKIE:function(n){return function(t,e,n){return ke(t,e)?Te(t,n):null}(e.Xi.win,t,n)},CONSENT_STATE:En(t),CONSENT_STRING:an(t),CONSENT_METADATA:function(e){return function(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return It(t).then((function(t){return t?t.getConsentMetadataInfo(e):null}))}(t).then((function(t){return t?t[e]:null}))}(t,st(e,"CONSENT_METADATA macro must contain a key"))},SESSION_ID:function(){return e.bTt(n,ze)},SESSION_TIMESTAMP:function(){return e.bTt(n,Ke)},SESSION_COUNT:function(){return e.bTt(n,Ze)},SESSION_EVENT_TIMESTAMP:function(){return e.bTt(n,Qe)},SESSION_ENGAGED:function(){return e.bTt(n,Je)}},r=De(t)?{}:{FIRST_CONTENTFUL_PAINT:function(){return Ot(e.Xi.win).getMetric("fcpv")},FIRST_VIEWPORT_READY:function(){return Ot(e.Xi.win).getMetric("pc")},MAKE_BODY_VISIBLE:function(){return Ot(e.Xi.win).getMetric("mbv")},LARGEST_CONTENTFUL_PAINT:function(){return Ot(e.Xi.win).getMetric("lcpv")},FIRST_INPUT_DELAY:function(){return Ot(e.Xi.win).getMetric("fid")},CUMULATIVE_LAYOUT_SHIFT:function(){return Ot(e.Xi.win).getMetric("cls")}};return Xt(Xt(Xt({},this.bP),i),r)},e.bTt=function(t,e){return this.mTt.then((function(n){return n.getSessionValue(t,e)}))},e.TA=function(t,e){ot(!this.bP[t]),this.bP[t]=e},e.expandTemplate=function(t,e,n,i,r){var o,s,a,u,c,h=this;return s=/\${([^{}]*)}/g,a=function(t,o){if(e.iterations<0)return nt().error(un,"Maximum depth reached while expanding variables. Please ensure that the variables are not recursive."),t;if(!o)return"";var s=Sn(o),a=s.argList,u=s.name;if(e.freezeVars[u])return t;var c=e.getVar(u),l=Mt(n);if("string"==typeof c)c=h.ETt(c,e,n,l,i,r,a);else if(v(c)){for(var f=0;f<c.length;f++)c[f]="string"==typeof c[f]?h.ETt(c[f],e,n,l,i,r):c[f];c=Promise.all(c)}return Promise.resolve(c).then((function(t){return e.noEncode?t:Tn(t)}))},u=[],c=0,(o=t).replace(s,(function(t){var e=arguments[arguments.length-2];u.push(o.slice(c,e)),c=e+t.length;var n=a.apply(null,arguments);return u.push(n),""})),u.push(o.slice(c)),Promise.all(u).then((function(t){return t.join("")}))},e.ETt=function(t,e,n,i,r,o,s){var a=this;return this.expandTemplate(t,new ln(e.vars,e.iterations-1,!0),n,r,o).then((function(t){return i.expandStringAsync(s?t+s:t,r||a.getMacros(n),o)}))},e.pTt=function(t){return wt(this.Xi.win).sha384Base64(t)},t}();function Tn(t){if(null==t)return"";if(v(t))return t.map(Tn).join(",");var e=Sn(String(t)),n=e.argList,i=e.name;return encodeURIComponent(i)+n}function Sn(t){if(!t)return{name:"",argList:""};var e=t.match(cn);return st(e,"Variable with invalid format found: "+t),{name:e[1]||e[0],argList:e[2]||""}}function bn(t){return ut(t,"amp-analytics-variables")}function An(t){return ht(t,"amp-analytics-variables")}function En(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return It(t).then((function(t){return t?t.whenPolicyResolved(e):null}))}(t).then((function(t){return t?hn[t]:null}))}function yn(t){return"false"!==t&&""!==t&&"0"!==t&&"null"!==t&&"NaN"!==t&&"undefined"!==t}var wn="amp-analytics/config",On=function(){function t(t){this.Gn=t,this.t=null,this.TTt=$t||{},this.$gt={},this.d_={},this.gTt={},this.yTt=!1,this.cK=bn(t)}var e=t.prototype;return e.loadConfig=function(){var t=this;return this.t=this.Gn.ownerDocument.defaultView,this.yTt=this.Gn.hasAttribute("sandbox"),Promise.all([this.wTt(),this.STt()]).then(this.ATt.bind(this)).then(this.OTt.bind(this)).then((function(){return t.d_}))},e.NTt=function(t){var e,n=(this.t.location,Q.cdn),i="bg"===t&&null!==(e=self.AMP_CONFIG)&&void 0!==e&&e.canary?".canary":"";return"".concat(n,"/rtv/").concat(K().rtvVersion,"/v0/analytics-vendors/").concat(t).concat(i,".json")},e.STt=function(){var t=this,e=this.Gn.getAttribute("type");if(!e)return r();var n=this.NTt(e),i=this.ye();return rt().fine(i,"Fetching vendor config",n),Ct(this.t).fetchJson(n,{ampCors:!1}).then((function(t){return t.json()})).then((function(n){t.$gt=n||{},rt().fine(i,"Vendor config loaded for "+e,n)}),(function(t){nt().error(i,"Error loading vendor config: ",n,t)}))},e.wTt=function(){var t=this,e=this.Gn.getAttribute("config");if(!e||this.yTt)return r();le(e,this.Gn);var n=this.ye();rt().fine(n,"Fetching remote config",e);var i={};return this.Gn.hasAttribute("data-credentials")&&(i.credentials=this.Gn.getAttribute("data-credentials")),Mt(this.Gn).expandUrlAsync(e,this.cK.getMacros(this.Gn)).then((function(n){return e=n,Ct(t.t).fetchJson(e,i)})).then((function(t){return t.json()})).then((function(i){t.gTt=i,rt().fine(n,"Remote config loaded",e)}),(function(t){nt().error(n,"Error loading remote config: ",e,t)}))},e.ATt=function(){var t=this.ITt().url,e={},n=this.qC();return this._Tt(n),Rn(n,e),Rn(this.gTt,e),!t||this.yTt?(this.d_=this.RTt(e),r()):this.PTt(e,t)},e.PTt=function(t,e){var n=this;le(e,this.Gn);var i=this.ye();return rt().fine(i,"Rewriting config",e),this.CTt(t).then((function(){var r={method:"POST",body:t};return n.Gn.hasAttribute("data-credentials")&&(r.credentials=n.Gn.getAttribute("data-credentials")),Mt(n.Gn).expandUrlAsync(e).then((function(t){return Ct(n.t).fetchJson(t,r)})).then((function(t){return t.json()})).then((function(t){n.d_=n.RTt(t),rt().fine(i,"Configuration re-written",e)}),(function(t){nt().error(i,"Error rewriting configuration: ",e,t)}))}))},e.OTt=function(){if(this.d_.warningMessage){var t=this.ye(),e=this.Gn.getAttribute("type"),n=this.Gn.getAttribute("config");nt().warn(t,"Warning from analytics vendor%s%s: %s",e?" "+e:"",n?" with remote config url "+n:"",String(this.d_.warningMessage)),delete this.d_.warningMessage}},e.CTt=function(t){var e=this,n=t.configRewriter,i=n&&n.varGroups,o=this.ITt().varGroups;if(!i&&!o)return r();if(i&&!o){var s=this.ye();return nt().warn(s,"This analytics provider does not currently support varGroups"),r()}t.configRewriter=t.configRewriter||{};var a=t.configRewriter;a.vars={};var u=[],c=i||{};return O(c,o),Object.keys(c).forEach((function(t){var n=c[t];if(n.enabled){var i=e.shallowExpandObject(e.Gn,n).then((function(t){delete t.enabled,Object.assign(a.vars,t)}));u.push(i)}})),Promise.all(u).then((function(){if(!Object.keys(a.vars).length)return delete t.configRewriter;i&&delete a.varGroups}))},e.RTt=function(t){var e={vars:{requestCount:0}};return Rn(_n(this.TTt),e),Rn(_n(this.$gt),e,!0),Rn(_n(t),e,!0),e},e.ITt=function(){return this.$gt.configRewriter||{}},e.qC=function(){if(this.Gn.CONFIG)return this.Gn.CONFIG;var t={},e=this.ye();try{var n=this.Gn.children;1==n.length?t=function(t){var e,n,i,r=(e=t,_(/^[\w-]+$/.test("script")),n=e,i="> ".concat("script"),N(n)?n.querySelectorAll(C(i,":scope")):L(n,i)),o=r.length;if(1!==o)throw new Error("Found ".concat(o," <script> children. Expected 1."));var s=r[0];if(!function(t){var e;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(e=t.getAttribute("type"))||void 0===e?void 0:e.toUpperCase())}(s))throw new Error('<script> child must have type="application/json"');try{var a;return M(null!==(a=s.textContent)&&void 0!==a?a:"")}catch(t){throw new Error("Failed to parse <script> contents. Is it valid JSON?")}}(this.Gn):n.length>1&&nt().error(e,"The tag should contain only one <script> child.")}catch(t){nt().error(e,t.message)}return t},e._Tt=function(t){if(this.Gn.getAttribute("type")&&(t.transport||this.gTt.transport)){var e=this.ye();nt().error(e,"Inline or remote config should not overwrite vendor transport settings")}t.transport&&t.transport.iframe&&(nt().error(wn,"Inline configs are not allowed to specify transport iframe"),t.transport.iframe=void 0),this.gTt.transport&&this.gTt.transport.iframe&&(nt().error(wn,"Remote configs are not allowed to specify transport iframe"),this.gTt.transport.iframe=void 0)},e.ye=function(){return"AmpAnalytics "+(this.Gn.getAttribute("id")||"<unknown id>")},e.shallowExpandObject=function(t,e){var n={},i=[],r=[],o=Mt(t),s=bn(t).getMacros(t);return Object.keys(e).forEach((function(t){i.push(t);var n=o.expandStringAsync(e[t],s);r.push(n)})),Promise.all(r).then((function(t){return i.forEach((function(e,i){return n[e]=t[i]})),n}))},t}();function Rn(t,e,n){for(var i in null==e&&(e={}),st(n||!t||!t.optout||"_gaUserPrefs.ioo"==t.optout||"__gaOptOutExtension"==t.optoutElementId,"optout property is only available to vendor config."),t)st(n||"iframePing"!=i,"iframePing config is only available to vendor config."),w(t,i)&&(v(t[i])?(v(e[i])||(e[i]=[]),e[i]=Rn(t[i],e[i],n)):E(t[i])?(E(e[i])||(e[i]={}),e[i]=Rn(t[i],e[i],n)):e[i]=t[i]);return e}function _n(t){if(!t.requests)return t;for(var e in t.requests)w(t.requests,e)&&(t.requests[e]=E(n=t.requests[e])?n:{baseUrl:n});var n;return function(t){if(w(t,"requests")&&w(t,"requestOrigin")){var e=t.requestOrigin;for(var n in t.requests)w(t.requests[n],"origin")||(t.requests[n].origin=e)}return t}(t)}var Mn=31536e6,In=function(){function t(){this.ve=[]}var e,n=t.prototype;return n.peek=function(){var t=this.length;return t?this.ve[t-1].item:null},n.enqueue=function(t,e){if(isNaN(e))throw new Error("Priority must not be NaN.");var n=this.de(e);this.ve.splice(n,0,{item:t,priority:e})},n.de=function(t){for(var e=-1,n=0,i=this.length;n<=i&&(e=Math.floor((n+i)/2))!==this.length;)if(this.ve[e].priority<t)n=e+1;else{if(!(e>0&&this.ve[e-1].priority>=t))break;i=e-1}return e},n.forEach=function(t){for(var e=this.length;e--;)t(this.ve[e].item)},n.dequeue=function(){var t=this.ve.pop();return t?t.item:null},(e=[{key:"length",get:function(){return this.ve.length}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),Pn=!1,Nn="CHUNK",Cn=/nochunking=1/.test(self.location.hash),Ln=r();function xn(t,e,n){Cn?Ln.then(e):function(t){var e,n;return e=Un,gt(mt(n=vt(t)),n,"chunk",e),ut(t,"chunk")}(t).run(e,n)}var Dn,kn="not_run",Vn=function(){function t(t){this.state=kn,this.pe=t}var e=t.prototype;return e.be=function(t){if("run"!=this.state){this.state="run";try{this.pe(t)}catch(t){throw this.ge(t),t}}},e.ye=function(){return this.pe.displayName||this.pe.name},e.ge=function(t){},e.we=function(){return!1},e.Ae=function(){return!1},t}(),qn=function(t){u(n,t);var e=d(n);function n(t,n,i){var r;return(r=e.call(this,t)).xe=i,r}var i=n.prototype;return i.ge=function(t){var e;ot((e=self.document).defaultView),Pn||(Pn=!0,function(t){!function(t,e){for(var n in e)Re(t,n,e[n])}(t.body,{opacity:1,visibility:"visible",animation:"none"})}(e))},i.we=function(){return this.Ee()},i.Ae=function(){return this.xe.Oe},i.Ee=function(){return this.xe.ampdoc.isVisible()},n}(Vn),Un=function(){function t(t){var e,n=this;this.ampdoc=t,this.t=t.win,this.Pe=new In,this.Te=this.Ie.bind(this),this.Me=0,this.Se=!(!this.t.navigator.scheduling||!this.t.navigator.scheduling.isInputPending),this.ke=!1,this.me=this.t.document.documentElement.hasAttribute("i-amphtml-no-boilerplate"),this.t.addEventListener("message",(function(t){"amp-macro-task"==Dt(t)&&n.Ie(null)})),this.Oe=!1,(e=t,ht(e,"viewer")).then((function(){n.Oe=!0})),t.onVisibilityChanged((function(){t.isVisible()&&n._e()}))}var e=t.prototype;return e.run=function(t,e){var n=new Vn(t);this.Re(n,e)},e.runForStartup=function(t){var e=new qn(t,this.t,this);this.Re(e,Number.POSITIVE_INFINITY)},e.Re=function(t,e){this.Pe.enqueue(t,e),this._e()},e.Ne=function(t){for(var e=this.Pe.peek();e&&e.state!==kn;)this.Pe.dequeue(),e=this.Pe.peek();return e&&t&&this.Pe.dequeue(),e},e.Ie=function(t){var e,n=this,i=this.Ne(!0);if(!i)return this.ke=!1,this.Me=0,!1;try{e=Date.now(),i.be(t)}finally{Ln.then().then().then().then().then().then().then().then().then((function(){n.ke=!1,n.Me+=Date.now()-e,rt().fine(Nn,i.ye(),"Chunk duration",Date.now()-e,n.Me),n._e()}))}return!0},e.Ce=function(t){var e=this;if(this.me&&(this.Se?this.t.navigator.scheduling.isInputPending():this.Me>5))return this.Me=0,void this.De();Ln.then((function(){e.Te(t)}))},e._e=function(){if(!this.ke){var t=this.Ne();if(t)return t.we()?(this.ke=!0,void this.Ce(null)):void(t.Ae()&&this.t.requestIdleCallback?(e=this.t,n=2e3,i=this.Te,r=Date.now(),e.requestIdleCallback((function t(o){if(o.timeRemaining()<15){var s=n-(Date.now()-r);s<=0||o.didTimeout?(rt().fine(Nn,"Timed out",n,o.didTimeout),i(o)):(rt().fine(Nn,"Rescheduling with",s,o.timeRemaining()),e.requestIdleCallback(t,{timeout:s}))}else rt().fine(Nn,"Running idle callback with ",15),i(o)}),{timeout:n})):this.De())}var e,n,i,r},e.De=function(){this.t.postMessage("amp-macro-task","*")},t}(),jn="amp-analytics/cookie-writer",Hn={referrerDomains:!0,enabled:!0,cookiePath:!0,cookieMaxAge:!0,cookieSecure:!0,cookieDomain:!0,sameSite:!0,SameSite:!0,secure:!0},Gn=function(){function t(t,e,n){this.t=t,this.Gn=e,this.rC=Mt(e),this.MTt=null,this.d_=n,this.cc=bn(e).getMacros(e)}var e=t.prototype;return e.write=function(){var t=this;return this.MTt||(this.MTt=new o,xn(this.Gn,(function(){t.MTt.resolve(t.zo())}),10)),this.MTt.promise},e.zo=function(){if(!ke(this.t,this.Gn))return r();if(!w(this.d_,"cookies"))return r();if(!E(this.d_.cookies))return nt().error(jn,"cookies config must be an object"),r();var t=this.d_.cookies;if(!1===t.enabled)return r();for(var e=this.YL(t),n=Object.keys(t),i=[],o=0;o<n.length;o++){var s=n[o],a=t[s],u=this.DTt(a.sameSite||a.SameSite||t.sameSite||t.SameSite);this.ZL(s,a)&&i.push(this.QL(s,a.value,e,u))}return Promise.all(i)},e.YL=function(t){if(!w(t,"cookieMaxAge"))return Mn;var e=Number(t.cookieMaxAge);return e||0===e?(e<=0&&nt().warn(jn,"cookieMaxAge %s less than or equal to 0, cookie will immediately expire",t.cookieMaxAge),1e3*e):(nt().error(jn,"invalid cookieMaxAge %s, falling back to default value (1 year)",t.cookieMaxAge),Mn)},e.ZL=function(t,e){return!(Hn[t]||(E(e)?!w(e,"value")&&(nt().error(jn,"value is required in the cookieValue object"),1):(nt().error(jn,"cookieValue must be configured in an object"),1)))},e.QL=function(t,e,n,i){var r=this;return this.rC.expandStringAsync(e,this.cc).then((function(e){if(e){var o=Date.now()+n,s=i===ge;!function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Ae(t,r,e);var o=void 0;r.domain?o=r.domain:r.highestAvailableDomain&&(o=Se(t)),be(t,e,n,i,o,r.sameSite,r.secure)}(r.t,t,e,o,{highestAvailableDomain:!0,sameSite:i,secure:s})}})).catch((function(t){nt().error(jn,"Error expanding cookie string",t)}))},e.DTt=function(t){switch(t){case"Strict":return"Strict";case"Lax":return"Lax";case"None":return ge;default:return}},t}(),Bn=function(){function t(){this.Et=null}var e=t.prototype;return e.add=function(t){var e=this;return this.Et||(this.Et=[]),this.Et.push(t),function(){e.remove(t)}},e.remove=function(t){var e,n,i;this.Et&&(n=t,-1!=(i=(e=this.Et).indexOf(n))&&e.splice(i,1))},e.removeAll=function(){this.Et&&(this.Et.length=0)},e.fire=function(t){if(this.Et)for(var e,i=n(this.Et.slice(),!0);!(e=i()).done;)(0,e.value)(t)},e.getHandlerCount=function(){var t,e;return null!==(t=null===(e=this.Et)||void 0===e?void 0:e.length)&&void 0!==t?t:0},t}(),Fn="video-session-visible",Xn="video-seconds-played",Wn=["video-ended","video-pause","video-play","video-session","video-session-visible","video-seconds-played","video-hosted-custom","video-percentage-played","video-ad-start","video-ad-end"],$n=/^vars(.+)/,zn=function(){},Kn="amp-analytics/events",Yn="click",Jn="browser-event",Qn="custom",Zn="hidden",ti="ini-load",ei="render-start",ni="scroll",ii="story",ri="timer",oi="video",si="visible",ai=["ampdoc","embed"],ui=Object.freeze((Z(Dn={},Yn,{name:Yn,allowedFor:ai.concat(["timer"]),klass:function(t){return new Ti(t)}}),Z(Dn,Jn,{name:Jn,allowedFor:ai.concat(["timer"]),klass:function(t){return new mi(t)}}),Z(Dn,Qn,{name:Qn,allowedFor:ai.concat(["timer"]),klass:function(t){return new pi(t)}}),Z(Dn,Zn,{name:si,allowedFor:ai.concat(["timer"]),klass:function(t){return new Oi(t)}}),Z(Dn,ti,{name:ti,allowedFor:ai.concat(["timer","visible"]),klass:function(t){return new Ai(t)}}),Z(Dn,ei,{name:ei,allowedFor:ai.concat(["timer","visible"]),klass:function(t){return new bi(t)}}),Z(Dn,ni,{name:ni,allowedFor:ai.concat(["timer"]),klass:function(t){return new Si(t)}}),Z(Dn,ii,{name:ii,allowedFor:ai,klass:function(t){return new gi(t)}}),Z(Dn,ri,{name:ri,allowedFor:ai,klass:function(t){return new yi(t)}}),Z(Dn,oi,{name:oi,allowedFor:ai.concat(["timer"]),klass:function(t){return new wi(t)}}),Z(Dn,si,{name:si,allowedFor:ai.concat(["timer"]),klass:function(t){return new Oi(t)}}),Dn));function ci(t){st(!v(t)||new Set(t).size===t.length,"Cannot have duplicate selectors in selectors list: %s",t)}function hi(t){return t.startsWith("video")?oi:"blur"===(e=t)||"change"===e?Jn:t.startsWith("story")?ii:function(t){return"click"===(e=t)||"browser-event"===e||"custom"===e||"hidden"===e||"ini-load"===e||"render-start"===e||"scroll"===e||"story"===e||"timer"===e||"video"===e||"visible"===e;var e}(t)?w(ui,t)?ui[t].name:t:Qn;var e}function li(t){var e={};return Object.keys(ui).forEach((function(n){w(ui,n)&&-1!=ui[n].allowedFor.indexOf(t)&&(e[n]=ui[n].klass)})),e}function fi(t,e){var n=q(t,void 0,$n);return O(n,e,0),n}var di=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.target=t,this.type=e,this.vars=i?fi(t,n):n},vi=function(){function t(t){this.root=t}var e=t.prototype;return e.dispose=function(){},e.add=function(t,e,n,i){},t}(),mi=function(t){u(i,t);var e=d(i);function i(t){var n;return(n=e.call(this,t)).LTt=new Bn,n.kTt={},n.xTt=n.LTt.fire.bind(n.LTt),n.UTt=function(t,e,n){var i=0,r=0,o=null;function s(){i=0;var n,a=500-(t.Date.now()-r);a>0?i=t.setTimeout(s,a):(n=o,o=null,e.apply(null,n))}return function(){r=t.Date.now();for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];o=n,i||(i=t.setTimeout(s,500))}}(n.root.ampdoc.win,n.xTt),n}var r=i.prototype;return r.dispose=function(){var t=this,e=this.root.getRoot();Object.keys(this.kTt).forEach((function(n){e.removeEventListener(n,t.UTt)})),this.xTt=null,this.LTt=null},r.add=function(t,e,i,r){st(!!function(t){var e,i,r,o,s;if(t[Wt])return t[Wt];t[Wt]=y();var a=t[Wt];_(a);var u=Xt(Xt({},null!==(e=t.AMP_CONFIG)&&void 0!==e?e:{}),null!==(i=t.AMP_EXP)&&void 0!==i?i:M((null===(r=t.__AMP_EXP)||void 0===r?void 0:r.textContent)||"{}"));for(var c in u){var h=u[c];"number"==typeof h&&h>=0&&h<=1&&(a[c]=Math.random()<h)}var l=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-doc-opt-in"];if(v(l)&&l.length){var f=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(f)for(var d,m,p=n((null===(d=f.getAttribute("content"))||void 0===d?void 0:d.split(","))||[],!0);!(m=p()).done;){var g=m.value;l.includes(g)&&(a[g]=!0)}}Object.assign(a,function(t){var e,i="";try{var r;"localStorage"in t&&(i=null!==(r=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==r?r:"")}catch(t){rt().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var o,s=(null===(e=i)||void 0===e?void 0:e.split(/\s*,\s*/g))||[],a=y(),u=n(s,!0);!(o=u()).done;){var c=o.value;c&&("-"==c[0]?a[c.substr(1)]=!1:a[c]=!0)}return a}(t));var T=null===(s=t.AMP_CONFIG)||void 0===s?void 0:s["allow-url-opt-in"];if(v(T)&&T.length)for(var S,b=W(t.location.originalHash||t.location.hash),A=n(T,!0);!(S=A()).done;){var E=S.value,w=b["e-".concat(E)];"1"==w&&(a[E]=!0),"0"==w&&(a[E]=!1)}return a}(this.root.ampdoc.win)["analytics-browser-events"],'expected global "analytics-browser-events" experiment to be enabled');var o=i.on,s=i.selectionMethod,a=void 0===s?null:s,u=i.selector;st(null==u?void 0:u.length,"Missing required selector on browser event trigger"),ci(u);var c=this.root.getElements(t,u,a,!1);return this.kTt[o]||(this.root.getRootElement().addEventListener(o,this.UTt,!0),this.kTt[o]=!0),this.LTt.add((function(t){t.type===o&&c.then((function(e){e.forEach((function(e){var n=t.target;e.contains(n)&&r(new di(e,o,{}))}))}))}))},i}(vi),pi=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).LTt={},n.jTt={},n.HTt={},setTimeout((function(){n.jTt=void 0}),1e4),n}var i=n.prototype;return i.dispose=function(){for(var t in this.jTt=void 0,this.HTt=void 0,this.LTt)this.LTt[t].removeAll()},i.add=function(t,e,n,i){var r=this,o=n.selector;o||(o=":root");var s=n.selectionMethod||null,a=this.root.getElement(t,o,s),u=e.startsWith("sandbox-"),c=u?this.HTt&&this.HTt[e]:this.jTt&&this.jTt[e];if(c){var h=c.length;a.then((function(t){setTimeout((function(){for(var n=0;n<h;n++){var o=c[n];t.contains(o.target)&&i(o)}u&&(r.HTt[e]=void 0)}),1)}))}var l=this.LTt[e];return l||(l=new Bn,this.LTt[e]=l),this.LTt[e].add((function(t){a.then((function(e){e.contains(t.target)&&i(t)}))}))},i.trigger=function(t){var e=t.type,n=e.startsWith("sandbox-"),i=this.LTt[e];i&&(i.fire(t),n)||(n?(this.HTt[e]=this.HTt[e]||[],this.HTt[e].push(t)):this.jTt&&(this.jTt[e]=this.jTt[e]||[],this.jTt[e].push(t)))},n}(vi),gi=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.add=function(t,e,n,i){var r=this,o=this.root.getRootElement(),s=this.jTt&&this.jTt[e];if(s)for(var a=s.length,u=0;u<a;u++){var c=s[u];this.FTt(c,o,n,i)}var h=this.LTt[e];return h||(h=new Bn,this.LTt[e]=h),this.LTt[e].add((function(t){r.FTt(t,o,n,i)}))},i.FTt=function(t,e,n,i){var r=t.type,o=t.vars,s=n.storySpec||{},a=void 0===s.repeat||s.repeat,u=o.eventDetails,c=n.tagName;c&&u.tagName&&c.toLowerCase()!==u.tagName||!1===a&&u.repeated||i(new di(e,r,o))},i.trigger=function(t){var e=t.type,n=this.LTt[e];n&&n.fire(t),this.jTt&&(this.jTt[e]=this.jTt[e]||[],this.jTt[e].push(t))},n}(pi),Ti=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).VTt=new Bn,n.qTt=n.VTt.fire.bind(n.VTt),n.root.getRoot().addEventListener("click",n.qTt),n}var i=n.prototype;return i.dispose=function(){this.root.getRoot().removeEventListener("click",this.qTt),this.VTt.removeAll()},i.add=function(t,e,n,i){var r=st(n.selector,"Missing required selector on click trigger"),o=n.selectionMethod||null;return this.VTt.add(this.root.createSelectiveListener(this.Ju.bind(this,i),t.parentElement||t,r,o))},i.Ju=function(t,e,n){t(new di(e,"click"))},n}(vi),Si=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).Vs=t,n.GTt=null,n}var i=n.prototype;return i.dispose=function(){null!==this.GTt&&(this.Vs.getScrollManager().removeScrollHandler(this.GTt),this.GTt=null)},i.add=function(t,e,n,i){if(!n.scrollSpec)return nt().error(Kn,"Missing scrollSpec on scroll trigger."),zn;if(!Array.isArray(n.scrollSpec.verticalBoundaries)&&!Array.isArray(n.scrollSpec.horizontalBoundaries))return nt().error(Kn,"Boundaries are required for the scroll trigger to work."),zn;var r=this.BTt(n.scrollSpec.verticalBoundaries),o=this.BTt(n.scrollSpec.horizontalBoundaries),s=!!n.scrollSpec.useInitialPageSize;return this.GTt=this.ep.bind(this,o,r,s,i),this.Vs.getScrollManager().addScrollHandler(this.GTt)},i.ep=function(t,e,n,i,r){var o=n?r.initialSize:r,s=o.scrollHeight,a=o.scrollWidth;this.WTt(e,100*(r.top+r.height)/s,"verticalScrollBoundary",i),this.WTt(t,100*(r.left+r.width)/a,"horizontalScrollBoundary",i)},i.BTt=function(t){var e={};if(!t||!Array.isArray(t))return e;for(var n=0;n<t.length;n++){var i=t[n];if("number"!=typeof i||!isFinite(i))return nt().error(Kn,"Scroll trigger boundaries must be finite."),e;e[i=Math.min(5*Math.round(i/5),100)]=!1}return e},i.WTt=function(t,e,n,i){if(e)for(var r in t)if(w(t,r)){var o=parseInt(r,10);if(!(o>e||t[o])){t[o]=!0;var s={};s[n]=r,i(new di(this.Vs.getRootElement(),ni,s,!1))}}},n}(vi),bi=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.dispose=function(){},i.add=function(t,e,n,i){var r,o,s=this,a=n.selector||":root";if(":root"==a||":host"==a)r=this.root.getRootElement(),o=this.getRootSignal(e);else{var u=n.selectionMethod;o=this.root.getAmpElement(t.parentElement||t,a,u).then((function(t){return r=t,s.getElementSignal(e,r)}))}return o.then((function(){i(new di(r,e))})),zn},i.getRootSignal=function(t){return this.root.signals().whenSignal(t)},i.getElementSignal=function(t,e){return"function"!=typeof e.signals?r():e.signals().whenSignal(t)},n}(vi),Ai=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.dispose=function(){},i.add=function(t,e,n,i){var r,o,s=this,a=n.selector||":root";if(":root"==a||":host"==a)r=this.root.getRootElement(),o=this.getRootSignal();else{var u=n.selectionMethod;o=this.root.getAmpElement(t.parentElement||t,a,u).then((function(t){return r=t,s.getElementSignal("ini-load",r)}))}return o.then((function(){i(new di(r,e))})),zn},i.getRootSignal=function(){return this.root.whenIniLoaded()},i.getElementSignal=function(t,e){if("function"!=typeof e.signals)return r();var n=e.signals();return Promise.race([n.whenSignal("ini-load"),n.whenSignal("load-end")])},n}(vi),Ei=function(){function t(t,e,n){this.$Tt=void 0,st("interval"in t,"Timer interval specification required"),this.YTt=Number(t.interval)||0,st(this.YTt>=.5,"Bad timer interval specification"),this.zTt="maxTimerLength"in t?Number(t.maxTimerLength):7200,st(this.zTt>0,"Bad maxTimerLength specification"),this.KTt="maxTimerLength"in t,this.JTt=!("immediate"in t)||Boolean(t.immediate),this.XTt=null,this.ZTt=null,this.QTt=null,this.tSt=e||null,this.nSt=n||null,this.oc=void 0,this.iSt=void 0}var e=t.prototype;return e.init=function(t){this.tSt?this.rSt():t()},e.dispose=function(){this.eSt(),this.uSt()},e.rSt=function(){this.tSt&&(this.ZTt=this.tSt())},e.uSt=function(){this.ZTt&&(this.ZTt(),this.ZTt=null)},e.sSt=function(){if(this.nSt)try{this.QTt=this.nSt()}catch(t){throw this.dispose(),t}},e.eSt=function(){this.QTt&&(this.QTt(),this.QTt=null)},e.isRunning=function(){return!!this.$Tt},e.startIntervalInWindow=function(t,e,n){this.isRunning()||(this.oc=Date.now(),this.iSt=void 0,this.XTt=e,this.$Tt=t.setInterval((function(){e()}),1e3*this.YTt),(!this.nSt||this.nSt&&this.KTt)&&t.setTimeout((function(){n()}),1e3*this.zTt),this.uSt(),this.JTt&&e(),this.sSt())},e.oSt=function(t){this.isRunning()&&(this.XTt(),this.XTt=null,t.clearInterval(this.$Tt),this.$Tt=void 0,this.iSt=void 0,this.eSt(),this.rSt())},e.aSt=function(){return this.oc?Date.now()-(this.iSt||this.oc):0},e.getTimerVars=function(){var t=0;return this.isRunning()&&(t=this.aSt(),this.iSt=Date.now()),{timerDuration:t,timerStart:this.oc||0}},t}(),yi=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).hSt={},n.cSt=1,n}var i=n.prototype;return i.getTrackedTimerKeys=function(){return Object.keys(this.hSt)},i.dispose=function(){var t=this;this.getTrackedTimerKeys().forEach((function(e){t.fSt(e)}))},i.add=function(t,e,n,i){var r=this,o=n.timerSpec;st(o&&"object"==h(o),"Bad timer specification");var s="startSpec"in o?o.startSpec:null;st(!s||"object"==h(s),"Bad timer start specification");var a="stopSpec"in o?o.stopSpec:null;st(!s&&!a||"object"==h(a),"Bad timer stop specification");var u,c,l=this.lSt();if(s){var f=this.vSt(s);st(f,"Cannot track timer start"),u=f.add.bind(f,t,s.on,s,this.dSt.bind(this,l,e,i))}if(a){var d=this.vSt(a);st(d,"Cannot track timer stop"),c=d.add.bind(d,t,a.on,a,this.dSt.bind(this,l,e,i))}var v=new Ei(o,u,c);return this.hSt[l]=v,v.init(this.mSt.bind(this,l,e,i)),function(){r.fSt(l)}},i.lSt=function(){return++this.cSt},i.vSt=function(t){var e=hi(nt().assertString(t.on));return this.root.getTrackerForAllowlist(e,li("timer"))},i.dSt=function(t,e,n){var i=this.hSt[t];i&&(i.isRunning()?this.oSt(t):this.mSt(t,e,n))},i.mSt=function(t,e,n){var i=this;this.hSt[t].startIntervalInWindow(this.root.ampdoc.win,(function(){n(i.pSt(t,e))}),this.fSt.bind(this,t))},i.oSt=function(t){this.hSt[t].oSt(this.root.ampdoc.win)},i.pSt=function(t,e){return new di(this.root.getRootElement(),e,this.hSt[t].getTimerVars(),!1)},i.fSt=function(t){this.hSt[t]&&(this.oSt(t),this.hSt[t].dispose(),delete this.hSt[t])},n}(vi),wi=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).bSt=new Bn,n.xTt=n.bSt.fire.bind(n.bSt),Wn.forEach((function(t){n.root.getRoot().addEventListener(t,n.xTt)})),n}var i=n.prototype;return i.dispose=function(){var t=this,e=this.root.getRoot();Wn.forEach((function(n){e.removeEventListener(n,t.xTt)})),this.xTt=null,this.bSt=null},i.add=function(t,e,n,i){var r=n.videoSpec||{},o=st(n.selector||r.selector,"Missing required selector on video trigger");st(o.length,"Missing required selector on video trigger"),ci(o);var s=n.selectionMethod||null,a=this.root.getElements(t,o,s,!1),u=r["end-session-when-invisible"],c=r["exclude-autoplay"],h=r.interval,l=r.percentages,f=n.on,d=0,v=0;return this.bSt.add((function(t){var e=t.type,n=Dt(t),r=function(t,e){return t==Fn?"video-session":"video-hosted-custom"==t?e["__amp:eventType"]:t}(e,n);if(r===f)if(r!==Xn||h){if(r!==Xn||++d%h==0){if("video-percentage-played"===r){if(!l)return void nt().error(Kn,"video-percentage-played requires percentages spec.");for(var o=0;o<l.length;o++){var s=l[o];if(s<=0||s%5!=0)return void nt().error(Kn,"Percentages must be set in increments of %s with non-zero values",5)}var m=n.normalizedPercentage,p=parseInt(m,10);if(ot(R(p)),ot(p%5==0),v==p&&l.length>1)return;if(l.indexOf(p)<0)return;v=p}if((e!==Fn||u)&&(!c||"playing_auto"!==n.state)){var g=t.target;a.then((function(t){t.forEach((function(t){if(t.contains(g)){var e=function(t){if(!t)return{};var e=Xt({},t);return delete e["__amp:eventType"],e}(n);i(new di(t,r,e))}}))}))}}}else nt().error(Kn,"video-seconds-played requires interval spec with non-zero value")}))},n}(vi),Oi=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).ESt={},n}var i=n.prototype;return i.dispose=function(){},i.add=function(t,e,n,i){var r=this,o=n.visibilitySpec||{},s=n.selector||o.selector,a=o.waitFor,u=o.reportWhen,c=null;u&&st(!o.repeat,"reportWhen and repeat are mutually exclusive."),e===Zn&&(u&&nt().error(Kn,'ReportWhen should not be defined when eventType is "hidden"'),u="documentHidden");var h=this.root.getVisibilityManager();if("documentHidden"==u?c=this.TSt.bind(this):"documentExit"==u?c=this.gSt.bind(this):st(!u,'reportWhen value "%s" not supported.',u),!s||":root"==s||":host"==s){var l=a||(s?"ini-load":"none");return h.listenRoot(o,this.getReadyPromise(l),c,this.ySt.bind(this,e,i,this.root.getRootElement()))}var f=n.selectionMethod||o.selectionMethod;ci(s);var d=this.root.getElements(t.parentElement||t,s,f).then((function(t){for(var n=[],s=0;s<t.length;s++)n.push(h.listenElement(t[s],o,r.getReadyPromise(a,t[s]),c,r.ySt.bind(r,e,i,t[s])));return n}));return function(){d.then((function(t){for(var e=0;e<t.length;e++)t[e]()}))}},i.TSt=function(){var t=this.root.ampdoc;return t.isVisible()?new Promise((function(e){t.onVisibilityChanged((function(){t.isVisible()||e()}))})):r()},i.gSt=function(){var t,e,n=new o,i=this.root.ampdoc.win;return this.wSt()||i.addEventListener("unload",t=function(){i.removeEventListener("unload",t),n.resolve()}),i.addEventListener("pagehide",e=function(){i.removeEventListener("pagehide",e),n.resolve()}),n.promise},i.wSt=function(){return"onpagehide"in this.root.ampdoc.win},i.getReadyPromise=function(t,e){var n;if(e&&((n=e.tagName).startsWith("AMP-")&&"AMP-STICKY-AD-TOP-PADDING"!=n&&"AMP-BODY"!=n?t=t||"ini-load":st(!t||"none"==t,"waitFor for non-AMP elements must be none or null. Found %s",t)),!t||"none"==t)return null;var i=li("visible");st(void 0!==i[t],"waitFor value %s not supported",t);var r=this.ESt[t]||this.root.getTrackerForAllowlist(t,i);return r?(this.ESt[t]=r,e?r.getElementSignal(t,e):r.getRootSignal(t)):null},i.ySt=function(t,e,n,i){var r=q(n,void 0,$n);for(var o in r)i[o]=r[o];e(new di(n,t,i,!1))},n}(vi),Ri=function(){function t(t,e){this.Vs=t,this.SSt=e,this.Rr=[],this.ASt=0,this.t=P(e)}var e=t.prototype;return e.dispose=function(){this.Rr.forEach((function(t){t()}))},e.addTrigger=function(t,e){var n,i=this,r=t.on,s=hi(r),a=li(this.Vs.getType()),u=this.Vs.getTrackerForAllowlist(s,a);st(!!u,'Trigger type "%s" is not allowed in the %s',r,this.Vs.getType());var c=new o,h=function(){n=u.add(i.SSt,r,t,e),i.Rr.push(n),c.resolve()};if(this.ASt<1||"inabox"==K(this.t).runtime)h();else{var l=this.ASt<3?20:10;xn(this.SSt,h,l)}return this.ASt++,c.promise},t}(),_i="inside";function Mi(t,e,n,i){return{left:t,top:e,width:n,height:i,bottom:e+i,right:t+n,x:t,y:e}}function Ii(t,e,n){var i,r,o,s=(i={top:n,bottom:n+e.getHeight(),left:0,right:e.getWidth()},Mi(Number(i.left),Number(i.top),Number(i.width),Number(i.height)));return o=s,(r=t).top<=o.bottom&&o.top<=r.bottom&&r.left<=o.right&&o.left<=r.right?_i:function(t,e){return t.top<e.top?"top":t.bottom>e.bottom?"bottom":_i}(t,s)}var Pi=function(){function t(t){this.Pu=Nt(t.ampdoc),this.Aa=ut(t.ampdoc,"mutator"),this.OSt=null,this.Sf=new Bn,this.Vs=t.getRootElement(),this.NSt=null}var e=t.prototype;return e.dispose=function(){this.Sf.removeAll(),this.ISt()},e.removeScrollHandler=function(t){this.Sf.remove(t),this.Sf.getHandlerCount()<=0&&this.ISt()},e.addScrollHandler=function(t){var e=this,n=this.Pu.getSize();return this._St().then((function(i){var r=i.height,o=i.left,s=i.top,a=i.width,u={top:e.Pu.getScrollTop()-s,left:e.Pu.getScrollLeft()-o,width:n.width,height:n.height,scrollHeight:r,scrollWidth:a,initialSize:{scrollHeight:r,scrollWidth:a}};t(u)})),0===this.Sf.getHandlerCount()&&this.RSt(),this.Sf.add(t)},e.gA=function(t){var e=this;return Promise.all([this._St(),this.PSt()]).then((function(n){var i=n[0],r=i.height,o=i.width,s=n[1],a=s.height,u=s.left,c=s.top,h=s.width,l={top:t.top-c,left:t.left-u,width:t.width,height:t.height,scrollWidth:h,scrollHeight:a,initialSize:{scrollHeight:r,scrollWidth:o}};e.Sf.fire(l)}))},e.ISt=function(){this.OSt&&(this.OSt(),this.OSt=null)},e.RSt=function(){this.OSt=this.Pu.onChanged(this.gA.bind(this))},e._St=function(){return ot(this.NSt||this.PSt())},e.PSt=function(){var t=this,e=this.Aa.measureElement((function(){return t.Pu.getLayoutRect(t.Vs)}));return this.NSt=this.NSt||e,e},t}();function Ni(t){var e=function(t){var e=[];if(!t)return e;var n,i=t;e.push(i);for(var r=0;r<50;r++)if((n=i.parentNode||i.parentElement)&&1==n.nodeType)i=n,e.push(i);else{if(!n||9!=n.nodeType)break;if(!(n=i.ownerDocument.defaultView.frameElement)||1!=n.nodeType)break;i=n,e.push(i)}return e}(t.parentElement);e.push(t);for(var n,i=1,r=0;r<e.length;r++)if((n=Ci(e[r]))<i&&(i=n),0===i)return i;return i}function Ci(t){var e=window;if(!t)return 1;var n=function(t,e){return t.getComputedStyle(e)||we}(e,t),i=n.opacity;if("hidden"===n.visibility)return 0;var r=""===i?1:parseFloat(i);return isNaN(r)?1:r}var Li=function(){function t(t,e){var n=this;this.CSt=e,this.MSt={visiblePercentageMin:Number(t.visiblePercentageMin)/100||0,visiblePercentageMax:Number(t.visiblePercentageMax)/100||1,totalTimeMin:Number(t.totalTimeMin)||0,totalTimeMax:Number(t.totalTimeMax)||1/0,continuousTimeMin:Number(t.continuousTimeMin)||0,continuousTimeMax:Number(t.continuousTimeMax)||1/0},"0"===String(t.visiblePercentageMax).trim()&&(this.MSt.visiblePercentageMax=0),this.DSt=void 0!==t.reportWhen,this.LSt=!0===t.repeat,this.kSt=new Bn;var i=new o;this.xSt=i.promise,this.USt=i.resolve,this.xSt.then((function(){n.kSt.fire()})),this.jSt=[],this.HSt=Date.now(),this.Ti=!0,this.FSt=!0,this.VSt=null,this.qSt=null,this.GSt=!1,this.BSt=!1,this.WSt=0,this.$St=0,this.YSt=0,this.zSt=0,this.KSt=0,this.kh=0,this.bi=0,this.JSt=0,this.XSt=0,this.ZSt=0,this.QSt=0,this.tAt=0,this.nAt=!1,this.iAt=!1,this.rAt=null}var e=t.prototype;return e.os=function(){var t=this;ot(!this.USt);var e=new o;this.xSt=e.promise,this.USt=e.resolve,this.xSt.then((function(){t.kSt.fire()})),this.rAt=null,this.BSt=!1,this.GSt=!1,this.WSt=0,this.$St=0,this.YSt=0,this.kh=0,this.zSt=0,this.KSt=0,this.bi=0,this.XSt=0,this.ZSt=0,this.QSt=0,this.iAt=!1},e.maybeDispose=function(){this.LSt||this.dispose()},e.dispose=function(){this.qSt&&(clearTimeout(this.qSt),this.qSt=null),this.rAt&&(clearTimeout(this.rAt),this.rAt=null),this.jSt.forEach((function(t){t()})),this.jSt.length=0,this.USt=null,this.kSt&&(this.kSt.removeAll(),this.kSt=null)},e.unsubscribe=function(t){this.jSt.push(t)},e.onTriggerEvent=function(t){this.kSt&&this.kSt.add(t),this.xSt&&!this.USt&&t()},e.setReady=function(t){this.Ti=t,this.update()},e.setReportReady=function(t){this.FSt=!1,this.VSt=t},e.eAt=function(){return this.Ti?this.CSt():0},e.update=function(){this.In(this.eAt())},e.getState=function(t){return{firstSeenTime:xi(this.zSt,t),lastSeenTime:xi(this.KSt,t),lastVisibleTime:xi(this.bi,t),firstVisibleTime:xi(this.kh,t),maxContinuousVisibleTime:this.$St,totalVisibleTime:this.YSt,loadTimeVisibility:100*this.JSt||0,minVisiblePercentage:100*this.XSt,maxVisiblePercentage:100*this.ZSt}},e.In=function(t){var e=this;if(this.iAt)this.uAt(t)||this.os();else if(this.USt)if(this.sAt(t)||this.DSt){if(this.qSt&&(clearTimeout(this.qSt),this.qSt=null),this.FSt)this.USt(),this.USt=null,this.LSt&&(this.iAt=!0,this.WSt=0);else if(this.VSt){var n=this.VSt();this.VSt=null,n.then((function(){e.FSt=!0,e.update()}))}}else if(this.GSt&&!this.qSt){var i=this.oAt();i>0&&(this.qSt=setTimeout((function(){e.qSt=null,e.update()}),i))}else!this.GSt&&this.qSt&&(clearTimeout(this.qSt),this.qSt=null)},e.uAt=function(t){return ot(t>=0&&t<=1),1==this.MSt.visiblePercentageMin?1==t:0==this.MSt.visiblePercentageMax?0==t:t>this.MSt.visiblePercentageMin&&t<=this.MSt.visiblePercentageMax},e.sAt=function(t){ot(t>=0&&t<=1);var e=Date.now();t>0&&(this.zSt=this.zSt||e,this.KSt=e,!this.JSt&&e-this.HSt<300&&(this.JSt=t));var n=this.GSt,i=this.QSt?e-this.QSt:0;return this.GSt=this.uAt(t),this.GSt?(this.BSt=!0,n?(this.YSt+=i,this.WSt+=i,this.$St=Math.max(this.$St,this.WSt)):(ot(!this.QSt),this.kh=this.kh||e),this.QSt=e,this.XSt=this.XSt>0?Math.min(this.XSt,t):t,this.ZSt=Math.max(this.ZSt,t),this.bi=e):n&&(ot(this.QSt>0),this.$St=Math.max(this.$St,this.WSt+i),this.QSt=0,this.YSt+=i,this.WSt=0,this.bi=e),this.BSt&&this.YSt>=this.MSt.totalTimeMin&&this.YSt<=this.MSt.totalTimeMax&&this.$St>=this.MSt.continuousTimeMin&&this.$St<=this.MSt.continuousTimeMax},e.maybeSetInitialScrollDepth=function(t){this.nAt||(this.tAt=t,this.nAt=!0)},e.getInitialScrollDepth=function(){return this.tAt},e.oAt=function(){var t=Math.max(this.MSt.continuousTimeMin-this.WSt,0),e=Math.max(this.MSt.totalTimeMin-this.YSt,0),n=Math.max(t,e);return Math.min(n,t||1/0,e||1/0)},t}();function xi(t,e){return t>=e?t-e:0}var Di="amp-analytics/visibility-manager",ki="__AMP_VIS",Vi=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],qi=1;function Ui(t){var e=t.__AMP_VIS_ID;return e||(e=++qi,t.__AMP_VIS_ID=e),e}function ji(t){return t[ki]||(t[ki]=function(t){var e=yt(t),n=dt(t),i=n&&xe(n),r=n&&function(t){if(Node.prototype.getRootNode)return t.getRootNode();var e,n;for(e=t;e.parentNode&&(!(n=e)||"I-AMPHTML-SHADOW-ROOT"!=n.tagName&&(11!=n.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(n)));e=e.parentNode);return e}(n);return i&&r?new Bi(ji(r),i):new Gi(e)}(t)),t[ki]}var Hi=function(){function t(t,e){var n=this;this.parent=t,this.ampdoc=e,this.aAt=0,this.hAt=[],this.tB=null,this.jSt=[],this.cAt=0,this.parent&&this.parent.fAt(this);var i=Nt(this.ampdoc);i.onChanged((function(){n.maybeUpdateMaxScrollDepth(i.getScrollTop())}))}var e=t.prototype;return e.fAt=function(t){this.tB||(this.tB=[]),this.tB.push(t)},e.lAt=function(t){if(this.tB){var e=this.tB.indexOf(t);-1!=e&&this.tB.splice(e,1)}},e.dispose=function(){this.setRootVisibility(0);for(var t=this.hAt.length-1;t>=0;t--)this.hAt[t].dispose();if(this.jSt.forEach((function(t){t()})),this.jSt.length=0,this.parent&&this.parent.lAt(this),this.tB)for(var e=0;e<this.tB.length;e++)this.tB[e].dispose()},e.unsubscribe=function(t){this.jSt.push(t)},e.getStartTime=function(){},e.isBackgrounded=function(){},e.isBackgroundedAtStart=function(){},e.getRootMinOpacity=function(){},e.getRootLayoutBox=function(){},e.getRootVisibility=function(){return this.parent?this.parent.getRootVisibility()>0?this.aAt:0:this.aAt},e.setRootVisibility=function(t){if(this.aAt=t,this.vAt(),this.tB)for(var e=0;e<this.tB.length;e++)this.tB[e].vAt()},e.maybeUpdateMaxScrollDepth=function(t){t>this.cAt&&(this.cAt=t)},e.getMaxScrollDepth=function(){return this.cAt},e.vAt=function(){for(var t=0;t<this.hAt.length;t++)this.hAt[t].update()},e.listenRoot=function(t,e,n,i){var r=this.getRootVisibility.bind(this);return this.dAt(r,t,e,n,i)},e.listenElement=function(t,e,n,i,r){var o=this.getElementVisibility.bind(this,t);return this.dAt(o,e,n,i,r,t)},e.dAt=function(t,e,n,i,r,o){if(e.visiblePercentageThresholds&&null==e.visiblePercentageMin&&null==e.visiblePercentageMax){var s=[],a=e.visiblePercentageThresholds;if(!a||!v(a))return nt().error(Di,"invalid visiblePercentageThresholds"),function(){};for(var u=0;u<a.length;u++){var c=a[u];if(v(c)&&2==c.length)if(R(c[0])&&R(c[1])){var h=Number(c[0]),l=Number(c[1]);if(h<0||l>100||h>l||h==l&&100!=h&&0!=l)nt().error(Di,"visiblePercentageThresholds entry invalid min/max value");else{var f=e;f.visiblePercentageMin=h,f.visiblePercentageMax=l;var d=new Li(f,t,Nt(this.ampdoc));s.push(this.Rz(d,e,n,i,r,o))}}else nt().error(Di,"visiblePercentageThresholds entry is not valid number");else nt().error(Di,"visiblePercentageThresholds entry length is not 2")}return function(){s.forEach((function(t){return t()}))}}var m=new Li(e,t,Nt(this.ampdoc));return this.Rz(m,e,n,i,r,o)},e.Rz=function(t,e,n,i,r,o){var s=this;i&&t.setReportReady(i);var a=Nt(this.ampdoc),u=a.getScrollTop();return this.maybeUpdateMaxScrollDepth(u),n?(t.setReady(!1),n.then((function(){t.setReady(!0),t.maybeSetInitialScrollDepth(u)}))):t.maybeSetInitialScrollDepth(u),t.onTriggerEvent((function(){var e,n=s.getStartTime(),i=t.getState(n);if(i.backgrounded=s.isBackgrounded()?1:0,i.backgroundedAtStart=s.isBackgroundedAtStart()?1:0,i.totalTime=Date.now()-n,o){i.elementId=o.id,i.opacity=Ni(o),e=a.getLayoutRect(o);var u=s.getElementVisibility(o),c=s.getElementIntersectionRect(o);Object.assign(i,{intersectionRatio:u,intersectionRect:JSON.stringify(c)})}else i.opacity=s.getRootMinOpacity(),i.intersectionRatio=s.getRootVisibility(),e=s.getRootLayoutBox();t.maybeDispose(),e&&(Object.assign(i,{elementX:e.left,elementY:e.top,elementWidth:e.width,elementHeight:e.height}),i.initialScrollDepth=Ii(e,a,t.getInitialScrollDepth()),i.maxScrollDepth=Ii(e,a,s.getMaxScrollDepth())),r(i)})),this.hAt.push(t),t.unsubscribe((function(){var e=s.hAt.indexOf(t);-1!=e&&s.hAt.splice(e,1)})),o&&t.unsubscribe(this.observe(o,(function(){return t.update()}))),t.update(),function(){t.dispose()}},e.observe=function(t,e){},e.getElementVisibility=function(t){},e.getElementIntersectionRect=function(t){},t}(),Gi=function(t){u(n,t);var e=d(n);function n(t){var n;if((n=e.call(this,null,t)).Pu=Nt(t),n.mAt=!t.isVisible(),n.pAt=n.isBackgrounded(),n.bAt=y(),n.Fb=null,"inabox"==K(n.ampdoc.win).runtime){var i=n.ampdoc.getRootNode(),r=i.documentElement||i.body||i;n.unsubscribe(n.observe(r,n.setRootVisibility.bind(l(n))));var o=function(){var t=Ui(r),e=n.bAt[t];e&&(n.ampdoc.win.innerHeight<1||n.ampdoc.win.innerWidth<1?e.isVisible=!1:e.isVisible=!0,n.setRootVisibility(e.isVisible?e.intersectionRatio:0))};n.ampdoc.win.addEventListener("resize",o),n.unsubscribe((function(){n.ampdoc.win.removeEventListener("resize",o)}))}else n.setRootVisibility(n.ampdoc.isVisible()?1:0),n.unsubscribe(n.ampdoc.onVisibilityChanged((function(){var t=n.ampdoc.isVisible();t||(n.mAt=!0),n.setRootVisibility(t?1:0)})));return n}var i=n.prototype;return i.dispose=function(){t.prototype.dispose.call(this),this.Fb&&(this.Fb.disconnect(),this.Fb=null)},i.getStartTime=function(){return this.ampdoc.getFirstVisibleTime()},i.isBackgrounded=function(){return this.mAt},i.isBackgroundedAtStart=function(){return this.pAt},i.getRootMinOpacity=function(){var t=this.ampdoc.getRootNode();return Ni(t.documentElement||t.body||t)},i.getRootLayoutBox=function(){var t=this.ampdoc.getRootNode(),e=t.documentElement||t.body||t;return this.Pu.getLayoutRect(e)},i.observe=function(t,e){var n=this,i=Ui(t),r=this.bAt[i];return r?r.intersectionRatio>0&&r.isVisible&&e(r.intersectionRatio):(r={element:t,intersectionRatio:0,intersectionRect:null,isVisible:!1,boundingClientRect:null,listeners:[]},this.bAt[i]=r),r.listeners.push(e),this.EAt().observe(t),function(){var r=n.bAt[i];if(r){var o=r.listeners.indexOf(e);-1!=o&&r.listeners.splice(o,1),0==r.listeners.length&&(n.Fb.unobserve(t),delete n.bAt[i])}}},i.getElementVisibility=function(t){if(0==this.getRootVisibility())return 0;var e=Ui(t),n=this.bAt[e];return n&&n.isVisible&&n.intersectionRatio||0},i.getElementIntersectionRect=function(t){if(this.getElementVisibility(t)<=0)return null;var e=Ui(t),n=this.bAt[e];return n?n.intersectionRect:null},i.EAt=function(){if(!this.Fb){var t=this.ampdoc.win;this.Fb=new t.IntersectionObserver(this.TAt.bind(this),{threshold:Vi})}return this.Fb},i.TAt=function(t){var e=this;t.forEach((function(t){var n=t.intersectionRect;n=Mi(Number(n.left),Number(n.top),Number(n.width),Number(n.height));var i=t.boundingClientRect;i=i&&Mi(Number(i.left),Number(i.top),Number(i.width),Number(i.height)),e.gAt(t.target,t.intersectionRatio,n,i)}))},i.gAt=function(t,e,n,i){e=Math.min(Math.max(e,0),1);var r=Ui(t),o=this.bAt[r],s=!0;if((i.width<1||i.height<1)&&(s=!1),o){o.isVisible=s,o.intersectionRatio=e,o.intersectionRect=n,o.boundingClientRect=i;for(var a=0;a<o.listeners.length;a++)o.listeners[a](o.isVisible?e:0)}},n}(Hi),Bi=function(t){u(n,t);var e=d(n);function n(t,n){var i;return(i=e.call(this,t,t.ampdoc)).embed=n,i.pAt=i.parent.isBackgrounded(),i.unsubscribe(i.parent.observe(n.host,i.setRootVisibility.bind(l(i)))),i}var i=n.prototype;return i.getStartTime=function(){return this.embed.getStartTime()},i.isBackgrounded=function(){return this.parent.isBackgrounded()},i.isBackgroundedAtStart=function(){return this.pAt},i.getRootMinOpacity=function(){return Ni(this.embed.iframe)},i.getRootLayoutBox=function(){var t=this.embed.iframe;return Nt(this.ampdoc).getLayoutRect(t)},i.observe=function(t,e){return this.parent.observe(t,e)},i.getElementVisibility=function(t){return 0==this.getRootVisibility()?0:this.parent.getElementVisibility(t)},i.getElementIntersectionRect=function(t){return 0==this.getRootVisibility()?null:this.parent.getElementIntersectionRect(t)},n}(Hi),Fi=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"],Xi="amp-analytics/analytics-root",Wi=/^vars(.+)/,$i=function(){function t(t){this.ampdoc=t,this.hSt=y(),this.yAt=null,this.wAt=null}var e=t.prototype;return e.dispose=function(){for(var t in this.hSt)this.hSt[t].dispose(),delete this.hSt[t];this.yAt&&this.yAt.dispose(),this.wAt&&this.wAt.dispose()},e.getType=function(){},e.getRoot=function(){},e.getRootElement=function(){var t=this.getRoot();return t.host||t.documentElement||t.body||t},e.getHostElement=function(){},e.signals=function(){},e.contains=function(t){return this.getRoot().contains(t)},e.getElementById=function(t){},e.getTrackerForAllowlist=function(t,e){var n=e[t];return n?this.getTracker(t,n):null},e.getTracker=function(t,e){var n=this.hSt[t];return n||(n=new e(this),this.hSt[t]=n),n},e.getTrackerOptional=function(t){return this.hSt[t]||null},e.getElement=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return":root"==e?s((function(){return n.getRootElement()})):":host"==e?new Promise((function(t){t(nt().assertElement(n.getHostElement(),'Element "'.concat(e,'" not found')))})):this.ampdoc.whenReady().then((function(){var r,o=null;try{r="scope"==i?x(t,e):"closest"==i?k(t,e):n.getRoot().querySelector(e)}catch(t){st(!1,"Invalid query selector ".concat(e))}return r&&n.contains(r)&&(o=r),nt().assertElement(o,'Element "'.concat(e,'" not found'))}))},e.SAt=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.ampdoc.whenReady().then((function(){for(var i=[],r=0;r<t.length;r++){var o=void 0,s=[],a=t[r];try{o=e.getRoot().querySelectorAll(a)}catch(t){st(!1,"Invalid query selector ".concat(a))}for(var u=0;u<o.length;u++)e.contains(o[u])&&s.push(o[u]);st((s=n?e.AAt(s,a):s).length,'Element "'.concat(a,'" not found')),i=i.concat(s)}return i.filter((function(t,e){return i.indexOf(t)===e}))}))},e.AAt=function(t,e){for(var n=0,i=[],r=0;r<t.length;r++)Object.keys(q(t[r],void 0,Wi)).length?i.push(t[r]):n++;return n&&nt().warn(Xi,'%s element(s) ommited from selector "%s" because no data-vars-* attribute was found.',n,e),i},e.getAmpElement=function(t,e,n){var i=this;return this.getElement(t,e,n).then((function(t){return i.OAt([t],e),t}))},e.getElements=function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return v(e)?(st(!n,"Cannot have selectionMethod %s defined with an array selector.",n),this.SAt(e,i)):this.getElement(t,e,n).then((function(t){return[t]}))},e.OAt=function(t,e){for(var n=0;n<t.length;n++)st(t[n].classList.contains("i-amphtml-element"),'Element "%s" is required to be an AMP element',e)},e.createSelectiveListener=function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(o){if(":host"!=n)for(var s=i.getRootElement(),a="*"==n,u=":root"==n,c=o.target;c&&i.contains(c)&&("scope"!=r||u||e.contains(c));)if("closest"!=r||c.contains(e)){if(a||u&&c==s||Yi(c,n)){t(c,o);break}c=c.parentElement}else c=c.parentElement}},e.whenIniLoaded=function(){},e.getVisibilityManager=function(){return this.yAt||(this.yAt=ji(this.getRoot())),this.yAt},e.getScrollManager=function(){return this.wAt||(this.wAt=new Pi(this)),this.wAt},t}(),zi=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.getType=function(){return"ampdoc"},i.getRoot=function(){return this.ampdoc.getRootNode()},i.getHostElement=function(){return null},i.signals=function(){return this.ampdoc.signals()},i.getElementById=function(t){return this.ampdoc.getElementById(t)},i.whenIniLoaded=function(){var t,e=Nt(this.ampdoc);if("inabox"==K(this.ampdoc.win).runtime)e.getLayoutRect(this.getRootElement());else{var n=e.getSize();Mi(0,0,n.width,n.height)}return t=this.ampdoc,this.ampdoc.win,function(t,e){var n=yt(t);return n.signals().whenSignal("ready-scan").then((function(){var t=function(t){return ut(t,"resources")}(n).get().filter((function(t){return!Fi.includes(t.element.tagName)})).map((function(t){return t.element}));return 0===t.length?Promise.resolve([]):new Promise((function(e){for(var i=n.win,r=new i.IntersectionObserver((function(t){r.disconnect();for(var n=[],i=0;i<t.length;i++){var o=t[i],s=o.isIntersecting,a=o.target;s&&n.push(a)}e(n)}),{root:U(i)?i.document:null,threshold:.01}),o=0;o<Math.min(t.length,100);o++)r.observe(t[o])})).then((function(t){return Promise.all(t.map((function(t){return t.whenLoaded()})))}))}))}(t)},n}($i),Ki=function(t){u(n,t);var e=d(n);function n(t,n){var i;return(i=e.call(this,t)).embed=n,i}var i=n.prototype;return i.getType=function(){return"embed"},i.getRoot=function(){return this.embed.win.document},i.getHostElement=function(){return this.embed.iframe},i.signals=function(){return this.embed.signals()},i.getElementById=function(t){return this.embed.win.document.getElementById(t)},i.whenIniLoaded=function(){return this.embed.whenIniLoaded()},n}($i);function Yi(t,e){try{return D(t,e)}catch(t){return nt().error(Xi,"Bad query selector.",e,t),!1}}var Ji="__AMP_AN_ROOT",Qi=function(){function t(t){this.ampdoc=t,this.Vs=this.NAt(t.getRootNode())}var e=t.prototype;return e.dispose=function(){this.Vs.dispose()},e.getAnalyticsRoot=function(t){return this.NAt(t)},e.createAnalyticsGroup=function(t){var e=this.NAt(t);return new Ri(e,t)},e.IAt=function(t){return t===ii?gi:pi},e.triggerEventForTarget=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=new di(t,e,n,i),o=this.NAt(t),s=hi(e),a=o.getTracker(s,this.IAt(s));a.trigger(r)},e.NAt=function(t){var e=yt(t),n=dt(t),i=n&&xe(n);return e==this.ampdoc&&!i&&this.Vs?this.Vs:this._At(i||e,(function(){return i?new Ki(e,i):new zi(e)}))},e._At=function(t,e){var n=t[Ji];return n||(n=e(),t[Ji]=n),n},t}(),Zi="amp-analytics/linker-manager",tr=function(){function t(t,e,n,i){this.Xi=t,this.d_=e.linkers,this.FT=e.vars||{},this.wM=n,this.Gn=i,this.RAt={},this.lR=Pt(this.Gn),this.EV=ht(t,"form-submit-service"),this.PAt=null,this.cK=bn(this.Xi),this.CAt=null}var e=t.prototype;return e.init=function(){var t=this;if(!E(this.d_))return r();this.CAt=Se(this.Xi.win),this.d_=this.MAt(this.d_);var e=Object.keys(this.d_).map((function(e){var n=t.d_[e].ids,i=Object.keys(n),r=i.map((function(e){var i=new ln(t.FT,void 0,!0);return t.DAt(n[e],i)}));return Promise.all(r).then((function(n){var r={};return n.forEach((function(t,e){t&&(r[i[e]]=t)})),t.RAt[e]=r,r}))}));if(e.length){var n=ut(this.Xi,"navigation");n.registerAnchorMutator((function(e,n){e.href&&"click"===n.type&&(e.href=t.LAt(e.href))}),2),n.registerNavigateToMutator((function(e){return t.LAt(e)}),2)}return this.kAt(),Promise.all(e)},e.dispose=function(){this.PAt&&this.PAt()},e.MAt=function(t){var e={},n={enabled:this.xAt()&&this.UAt()},i=Object.keys(t).filter((function(e){var i=t[e],r=E(i);return r||(n[e]=i),r})),r=Ve.getLocation(this.Xi.win),o=this.lR.isProxyOrigin(r);return i.forEach((function(i){var r=Xt(Xt({},n),t[i]);!0===r.enabled?(o||!1===r.proxyOnly)&&(r.ids?e[i]=r:nt().error(Zi,'"ids" is a required field for use of "linkers".')):nt().info(Zi,"linker config for %s is not enabled and will be ignored.",i)})),e},e.DAt=function(t,e){var n=this,i=this.cK.getMacros(this.Gn);return this.cK.expandTemplate(t,e,this.Gn).then((function(t){return Mt(n.Gn).expandUrlAsync(t,i)}))},e.xAt=function(){return"googleanalytics"===this.wM&&"googleanalytics"===this.Xi.getMetaByName("amp-google-client-id-api")&&this.Xi.registerSingleton(2)},e.UAt=function(){var t=at(this.Xi.win,"platform");return t.isSafari()&&t.getMajorVersion()>=12},e.LAt=function(t){var e=this.d_;for(var n in e)this.RAt[n]&&(t=this.jAt(t,n,e[n]));return t},e.jAt=function(t,e,n){var i=this.lR.parse(t);if(this.HAt(i,e,n)&&this.FAt(i)){var r=Ge("1",this.RAt[e]);if(r){var o={};return o[e]=r,function(t,e){for(var n=W(se(t).search),i={},r=Object.keys(e),o=0;o<r.length;o++)w(n,r[o])||(i[r[o]]=e[r[o]]);return function(t,e){return ae(t,ce(e))}(t,i)}(t,o)}}return t},e.HAt=function(t,e,n){var i=n.destinationDomains,r=t.hostname,o=Ve.getHostname(this.Xi.win),s=n.sameDomainEnabled;if(!Boolean(s)&&o===r)return!1;if(i&&!Array.isArray(i))return nt().warn(Zi,"%s destinationDomains must be an array.",e),!1;if(i)return this.VAt(i,r);var a=ut(this.Xi,"documentInfo").get(),u=a.canonicalUrl,c=a.sourceUrl,h=er(this.lR.parse(u).hostname,r);if(this.CAt){var l=[this.CAt,"*"+this.CAt];return this.VAt(l,r)||h}return er(this.lR.parse(c).hostname,r)||h},e.FAt=function(t){return"https:"===t.protocol||"http:"===t.protocol},e.VAt=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i===e)return!0;if(-1!==i.indexOf("*")&&ir(e,i))return!0}return!1},e.kAt=function(){var t=this;this.PAt||this.EV.then((function(e){t.PAt=e.beforeSubmit(t.qAt.bind(t))}))},e.qAt=function(t){var e=t.actionXhrMutator,n=t.form;for(var i in this.d_){var r=this.d_[i],o=n.getAttribute("action-xhr")||n.getAttribute("action"),s=this.lR.parse(o);this.HAt(s,i,r)&&this.GAt(n,e,i)}},e.GAt=function(t,e,n){var i=this.RAt[n];if(i){var r=Ge("1",i),o=t.getAttribute("action-xhr");if(o)return e(ae(o,ue(n,r),void 0));this.BAt(t,n,r)}},e.BAt=function(t,e,n){var i={type:"hidden",name:e,value:n},r=V(t.ownerDocument,"input",i);t.appendChild(r)},t}();function er(t,e){return nr(t)===nr(e)}function nr(t){return t.replace(/^(?:www\.|m\.|amp\.)+/,"")}function ir(t,e){var n=e.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*");return new RegExp("^"+n+"$").test(t)}var rr={AMPDOC_HOST:!0,AMPDOC_HOSTNAME:!0,AMPDOC_URL:!0,AMP_VERSION:!0,AVAILABLE_SCREEN_HEIGHT:!0,AVAILABLE_SCREEN_WIDTH:!0,BACKGROUND_STATE:!0,BROWSER_LANGUAGE:!0,CANONICAL_HOST:!0,CANONICAL_HOSTNAME:!0,CANONICAL_PATH:!0,CANONICAL_URL:!0,DOCUMENT_CHARSET:!0,FIRST_CONTENTFUL_PAINT:!0,FIRST_VIEWPORT_READY:!0,MAKE_BODY_VISIBLE:!0,RANDOM:!0,SCREEN_COLOR_DEPTH:!0,SCREEN_HEIGHT:!0,SCREEN_WIDTH:!0,SOURCE_HOST:!0,SOURCE_HOSTNAME:!0,SOURCE_PATH:!0,SOURCE_URL:!0,TIMESTAMP:!0,TIMEZONE:!0,TIMEZONE_CODE:!0,USER_AGENT:!0,VIEWPORT_HEIGHT:!0,VIEWPORT_WIDTH:!0},or="${extraUrlParams}",sr={default:new(function(){function t(){}var e=t.prototype;return e.generateRequest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?{url:t.replace(or,""),payload:JSON.stringify(e.extraUrlParams)}:{url:ar(t,[e])}},e.generateBatchRequest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?{url:t.replace(or,""),payload:JSON.stringify(e.map((function(t){return t.extraUrlParams})))}:{url:ar(t,e)}},t}())};function ar(t,e){var n=e.map((function(t){return ce(t.extraUrlParams)})).filter(Boolean).join("&");return t.indexOf(or)>=0?t.replace(or,n):ae(t,n)}var ur=function(){function t(t,e,n,i,r){this.Gn=t,this.Xi=t.getAmpDoc(),this.win=this.Xi.win,this.WAt=e.origin,this.baseUrl=ot(e.baseUrl),this.$At=e.batchInterval,this.YAt=Number(e.reportWindow)||null,this.zAt=null,this.cK=bn(t),this.rC=Mt(t),this.lR=Pt(t),this.KAt=null,this.JAt=null,this.XAt=[],this.ZAt=n,this.sI=i,this.Bs=r?rr:void 0,this.QAt=null,this.tOt=null,this.nOt=!0,this.iOt=null,this.gC=0,this.oc=Date.now(),this.rOt(),this.eOt()}var e=t.prototype;return e.send=function(t,e,n){var i=!0===e.important;if(this.nOt||i){this.gC++,this.iOt=e;var r,o,s,a=this.cK.getMacros(this.Gn);if(a.RESOURCE_TIMING=(r=this.Gn,o=e.resourceTimingSpec,s=this.oc,o&&Date.now()<s+6e4?function(t,e){var n,i=t.getAmpDoc().win;if(e.done||!i.performance||!i.performance.now||!i.performance.getEntriesByType||!(E((n=e).resources)?n.encoding&&n.encoding.entry&&n.encoding.delim?n.encoding.base<2||n.encoding.base>36?(nt().warn("ANALYTICS","resource timing variables only supports bases between 2 and 36"),0):null==n.responseAfter||"number"==typeof n.responseAfter||(nt().warn("ANALYTICS",'resourceTimingSpec["responseAfter"] must be a number'),0):(nt().warn("ANALYTICS","resourceTimingSpec is missing or has incomplete encoding options"),0):(nt().warn("ANALYTICS",'resourceTimingSpec missing "resources" field'),0)))return e.done=!0,Promise.resolve("");var r=function(t){return t.performance.getEntriesByType("resource")}(i);r.length>=150&&(e.done=!0);var o,s=e.responseAfter||0;return e.responseAfter=Math.max(s,i.performance.now()),(r=r.filter((function(t){return t.startTime+t.duration>=s}))).length?(o=function(){return function(t,e,n){var i=e.resources,r=e.encoding,o=bn(n),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(t-e).toString(r.base||10)},a=function(t,e){var n=function(t){var e={};for(var n in t){var i=t[n].host||"",r=t[n].path||"",o=t[n].query||"",s={name:n,pathPattern:new RegExp(r),queryPattern:new RegExp(o)};e[i]?e[i].resources.push(s):e[i]={hostPattern:new RegExp(i),resources:[s]}}var a=[];for(var u in e)a.push(e[u]);return a}(e),i=[];return t.forEach((function(t){var e=function(t,e){for(var n=t.name,i=0;i<e.length;++i){var r=e[i],o=r.hostPattern,s=r.resources;if(o.test(n.host)){var a=m(s,(function(t){return t.pathPattern.test(n.pathname)&&t.queryPattern.test(n.search)}));if(-1!=a)return s[a].name}}return null}(t,n);e&&i.push({entry:t,name:e})})),i}(t,i).map((function(t){return function(t,e,n){var i={key:e,startTime:n(t.startTime),redirectTime:n(t.redirectEnd,t.redirectStart),domainLookupTime:n(t.domainLookupEnd,t.domainLookupStart),tcpConnectTime:n(t.connectEnd,t.connectStart),serverResponseTime:n(t.responseStart,t.requestStart),networkTransferTime:n(t.responseEnd,t.responseStart),transferSize:n(t.transferSize||0),encodedBodySize:n(t.encodedBodySize||0),decodedBodySize:n(t.decodedBodySize||0),duration:n(t.duration),initiatorType:t.initiatorType};return new ln(i,1)}(t.entry,t.name,s)})).map((function(t){return o.expandTemplate(r.entry,t,n)}));return Promise.all(a).then((function(t){return t.join(r.delim)}))}(r,e,t)},new Promise((function(t){setTimeout((function(){return t(o())}))}))):Promise.resolve("")}(r,o):Promise.resolve("")),this.KAt||(n.freezeVar("extraUrlParams"),this.KAt=this.uOt(this.baseUrl,n,a)),!this.JAt&&this.WAt){var u=new ln(n.vars,n.iterations,!0);this.JAt=this.uOt(this.WAt,u,a)}var c=Xt(Xt({},t),e.extraUrlParams),h=this.win.Date.now(),l=cr(this.cK,this.rC,c,n,a,this.Gn,this.Bs).then((function(t){return{trigger:e.on,timestamp:h,extraUrlParams:t}}));this.XAt.push(l),this.Ns(i||!this.$At)}},e.dispose=function(){this.os(),this.QAt&&(this.win.clearTimeout(this.QAt),this.QAt=null),this.tOt&&(this.win.clearTimeout(this.tOt),this.tOt=null)},e.uOt=function(t,e,n){var i=this;return this.cK.expandTemplate(t,e,this.Gn,n,this.Bs).then((function(t){return i.rC.expandUrlAsync(t,n,i.Bs).catch((function(e){return st(!1,'Could not expand URL "'.concat(t,'": ').concat(e.message))}))}))},e.Ns=function(t){0!=this.gC&&t&&this.sOt()},e.sOt=function(){var t=this,e=this.KAt,n=this.XAt,i=this.JAt,r=this.iOt;this.os(),(i||e).then((function(e){t.ZAt.url(t.Xi,e,!0)})),Promise.all([e,Promise.all(n),i]).then((function(e){var n=t.oOt(e[0],e[2]),i=e[1];0!==i.length&&(r.iframePing?(st(r.on==si,"iframePing is only available on page view requests."),t.sI.sendRequestUsingIframe(n,i[0])):t.sI.sendRequest(n,i,!!t.$At))}))},e.os=function(){this.gC=0,this.KAt=null,this.XAt=[],this.iOt=null},e.eOt=function(){if(this.$At){this.$At=v(this.$At)?this.$At:[this.$At];for(var t=0;t<this.$At.length;t++){var e=this.$At[t];st(R(e),"Invalid batchInterval value: %s",this.$At),st((e=1e3*Number(e))>=200,"Invalid batchInterval value: %s, interval value must be greater than %s ms.",this.$At,200),this.$At[t]=e}this.zAt=0,this.aOt()}},e.rOt=function(){var t=this;this.YAt&&(this.tOt=this.win.setTimeout((function(){t.Ns(!0),t.nOt=!1,t.QAt&&(t.win.clearTimeout(t.QAt),t.QAt=null)}),1e3*this.YAt))},e.aOt=function(){var t=this;ot(null!=this.zAt);var e=this.zAt<this.$At.length?this.$At[this.zAt++]:this.$At[this.$At.length-1];this.QAt=this.win.setTimeout((function(){t.Ns(!0),t.aOt()}),e)},e.oOt=function(t,e){return e?this.lR.parse(e).origin+t:t},t}();function cr(t,e,n,i,r,o,s){for(var a={},u=[],c=new ln(i.vars,i.iterations,!0),h=function n(i,a,h){var l=i[a];if("string"==typeof l){h[a]=void 0;var f=t.expandTemplate(l,c,o).then((function(t){return e.expandStringAsync(t,r,s)})).then((function(t){h[a]=t}));u.push(f)}else if(v(l)){h[a]=[];for(var d=0;d<l.length;d++)n(l,d,h[a])}else if(E(l)&&null!==l){h[a]={};for(var m=Object.keys(l),p=0;p<m.length;p++)n(l,m[p],h[a])}else h[a]=l},l=Object.keys(n),f=0;f<l.length;f++)h(n,l[f],a);return Promise.all(u).then((function(){return a}))}var hr=function(){function t(t,e){var n=this;this.Tvt=e,this.AX=!1,this.hOt=[],this.odt=new Le(this.Tvt,"send-iframe-transport-events",!0,(function(){n.setIsReady()}))}var e=t.prototype;return e.isReady=function(){return this.AX},e.setIsReady=function(){this.AX=!0,this.cOt()},e.queueSize=function(){return this.hOt.length},e.enqueue=function(t){ot(t&&t.creativeId&&t.message),this.hOt.push(t),this.queueSize()>=100&&(rt().warn("amp-analytics/iframe-transport-message-queue","Exceeded maximum size of queue for: "+t.creativeId),this.hOt.shift()),this.cOt()},e.cOt=function(){this.isReady()&&this.queueSize()&&(this.odt.send("iframe-transport-events",{events:this.hOt}),this.hOt=[])},t}(),lr=self.AMP.config.urls,fr=function(){function t(t,e,n,i){this.fOt=t,this.wM=e,this.lOt=i,ot(n&&n.iframe),this.vOt=n.iframe,this.dOt=0,this.processCrossDomainIframe()}var e=t.prototype;return e.detach=function(){t.markCrossDomainIframeAsDone(this.fOt.document,this.wM)},e.processCrossDomainIframe=function(){var e;t.hasCrossDomainIframe(this.wM)?++(e=t.getFrameData(this.wM)).usageCount:(e=this.createCrossDomainIframe(),this.fOt.document.body.appendChild(e.frame),this.Bv()),ot(e)},e.createCrossDomainIframe=function(){var e=t.mOt(),n=JSON.stringify({scriptSrc:(this.fOt,lr.thirdParty+"/".concat("2207071723000","/iframe-transport-client-v0.js")),sentinel:e,type:this.wM}),i=V(this.fOt.document,"iframe",{sandbox:"allow-scripts allow-same-origin",name:n,"data-amp-3p-sentinel":e});i.sentinel=e,_e(i,!1),i.src=this.vOt;var r={frame:i,usageCount:1,queue:new hr(this.fOt,i)};return t.pOt[this.wM]=r,r},e.Bv=function(){var e,n=this;(e=this.fOt).PerformanceObserver&&e.TaskAttributionTiming&&"containerName"in e.TaskAttributionTiming.prototype&&(t.bOt[this.wM]=new this.fOt.PerformanceObserver((function(t){t&&t.getEntries().forEach((function(t){t&&"longtask"==t.entryType&&"cross-origin-descendant"==t.name&&t.attribution&&t.attribution.forEach((function(t){n.vOt==t.containerSrc&&++n.dOt%5==0&&nt().error("amp-analytics/iframe-transport",'Long Task: Vendor: "'.concat(n.wM,'"'))}))}))})),t.bOt[this.wM].observe({entryTypes:["longtask"]}))},t.markCrossDomainIframeAsDone=function(e,n){var i=t.getFrameData(n);ot(i&&i.frame&&i.usageCount),--i.usageCount||(e.body.removeChild(i.frame),delete t.pOt[n],t.bOt[n]&&(t.bOt[n].disconnect(),t.bOt[n]=null))},t.hasCrossDomainIframe=function(e){return w(t.pOt,e)},t.mOt=function(){return String(++t.EOt)},e.sendRequest=function(e){var n=t.getFrameData(this.wM);ot(n),ot(n.queue),n.queue.enqueue({creativeId:this.lOt,message:e})},t.getFrameData=function(e){return t.pOt[e]},t.resetCrossDomainIframes=function(){t.pOt={}},e.getCreativeId=function(){return this.lOt},e.getType=function(){return this.wM},t}();function dr(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Ve.getImage(t),r=new i;return n&&(r.referrerPolicy="no-referrer"),r.src=e,r}fr.pOt={},fr.EOt=0,fr.bOt={};var vr,mr,pr="amp-analytics/transport",gr=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.Xi=t,this.t=t.win,this.$t=e,this.Rs=this.$t.referrerPolicy,"no-referrer"===this.Rs&&(this.$t.beacon=!1,this.$t.xhrpost=!1),this.TOt=!!this.$t.useBody,this.gOt=null,this.yOt="inabox"==K(this.t).runtime}var e=t.prototype;return e.sendRequest=function(e,n,i){if(e&&0!==n.length){var r,o,s=this.wOt(),a=(r=function(t){var r=i?s.generateBatchRequest(e,n,t):s.generateRequest(e,n[0],t);return r.url.startsWith("amp-script:")||(le(r.url,"amp-analytics request"),function(t){st(!("__amp_source_origin"in W(se(t).search)),"Source origin is not allowed in %s",t)}(r.url)),r},o={},function(t){var e=String(t);return void 0===o[e]&&(o[e]=r(t)),o[e]});if(this.$t.iframe)return this.gOt?void this.gOt.sendRequest(a(!1).url):void rt().error(pr,"iframe transport was inadvertently deleted");if(this.$t["amp-script"])t.forwardRequestToAmpScript(this.Xi,{url:e,payload:a(!0).payload});else if(!(this.$t.beacon&&t.sendRequestUsingBeacon(this.t,a(this.TOt))||this.$t.xhrpost&&t.sendRequestUsingXhr(this.t,a(this.TOt)))){var u=this.$t.image;if(u){var c="object"==h(u)&&u.suppressWarnings;t.sendRequestUsingImage(this.t,a(!1),c,this.Rs)}else nt().warn(pr,"Failed to send request",e,this.$t)}}else rt().info(pr,"Empty request not sent: ",e)},e.maybeInitIframeTransport=function(t){if(this.$t.iframe&&!this.gOt){var e=ft(P(t)),n=t.getAttribute("type"),i=this.yOt?"1":nt().assertString(function(t,e){try{var n=dt(t,e).parentElement;if("AMP-AD"==n.nodeName)return String(n.getResourceId())}catch(t){}return null}(t,e),"No friendly amp-ad ancestor element was found for amp-analytics tag with iframe transport.");this.gOt=new fr(e,n,this.$t,i)}},e.deleteIframeTransport=function(){this.gOt&&(this.gOt.detach(),this.gOt=null)},e.sendRequestUsingIframe=function(t,e){var n=this,i=ar(t,[e]);if(i){le(i,"amp-analytics request"),st(se(i).origin!=se(this.t.location.href).origin,"Origin of iframe request must not be equal to the document origin. See https://github.com/ampproject/amphtml/blob/main/docs/spec/amp-iframe-origin-policy.md for details.");var r=this.t.document.createElement("iframe");_e(r,!1),r.onload=r.onerror=function(){_t(n.t).delay((function(){var t,e;null===(e=(t=r).parentElement)||void 0===e||e.removeChild(t)}),5e3)},r.setAttribute("amp-analytics",""),r.setAttribute("sandbox","allow-scripts allow-same-origin"),r.src=i,this.t.document.body.appendChild(r)}else nt().error(pr,"Request not sent. Contents empty.")},e.wOt=function(){return sr.default},t.sendRequestUsingImage=function(t,e,n,i){t&&function(t){var e,n;if(function(t){return!!(t.complete||"complete"==t.readyState||Vt(t)&&t.readyState>0||t.document&&"complete"==t.document.readyState)}(t))return Promise.resolve(t);var i=Vt(t);return i&&t.__AMP_MEDIA_LOAD_FAILURE_SRC===t.currentSrc?Promise.reject(t):new Promise((function(r,o){if(e=i?kt(t,"loadedmetadata",r,{capture:!0}):kt(t,"load",r),t.tagName){var s=t;if(i&&!t.hasAttribute("src")&&!(s=function(t,e){for(var n=t.lastElementChild;n;n=n.previousElementSibling)if(e(n))return n;return null}(t,(function(t){return"SOURCE"===t.tagName}))))return o(new Error("Media has no source."));n=kt(s,"error",o)}})).then((function(){return n&&n(),t}),(function(){e&&e(),function(t){Vt(t)&&(t.__AMP_MEDIA_LOAD_FAILURE_SRC=t.currentSrc||!0);var e=t;throw e&&e.src&&(e=e.src),nt().createError("Failed to load:",e)}(t)}))}(function(t,e,n){return n&&"no-referrer"!==n&&nt().error("pixel","Unsupported referrerPolicy: %s",n),"no-referrer"===n?function(t,e){if("referrerPolicy"in Image.prototype)return dr(t,e,!0);var n=V(t.document,"iframe",{src:"about:blank",style:"display:none"});return n.onload=function(){dr(n.contentWindow,e)},t.document.body.appendChild(n),n}(t,e):dr(t,e)}(t,e.url,i)).then((function(){rt().fine(pr,"Sent image request",e.url)})).catch((function(){n||nt().warn(pr,"Response unparseable or failed to send image request",e.url)}))},t.sendRequestUsingBeacon=function(t,e){var n=Ve.getSendBeacon(t);if(!n)return!1;var i=n(e.url,e.payload||"");return i&&rt().fine(pr,"Sent beacon request",e),i},t.sendRequestUsingXhr=function(t,e){var n=Ve.getXMLHttpRequest(t);if(!n)return!1;var i=new n;return"withCredentials"in i&&(i.open("POST",e.url,!0),i.withCredentials=!0,i.setRequestHeader("Content-Type","text/plain"),i.onreadystatechange=function(){4==i.readyState&&rt().fine(pr,"Sent XHR request",e.url)},i.send(e.payload||""),!0)},t.forwardRequestToAmpScript=function(t,e){return(n=t,function(t,e,n){var i=ct(t,e);return i?Promise.resolve(i):At(t,e,"amp-script")}(n,"amp-script")).then((function(t){st(t,"AMP-SCRIPT is not installed"),t.fetch(e.url,JSON.parse(e.payload))}));var n},t}(),Tr="amp-analytics",Sr=[si,Zn,ti,ei],br=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).SOt=r(),n.AOt=null,n.yTt=!1,n.ET={},n.d_={},n.OOt=null,n.NOt=null,n.cK=null,n.IOt=wt(n.win),n._Ot=null,n.sI=null,n.wM=n.element.getAttribute("type"),n.yOt="inabox"==K(n.win).runtime,n.ROt=null,n.POt=null,n.COt=null,n}var i=n.prototype;return i.getLayoutPriority=function(){return this.yOt?0:1},i.isAlwaysFixed=function(){return!De(this.element)},i.isLayoutSupported=function(t){return!0},i.buildCallback=function(){var t,e=this;this.yTt=this.element.hasAttribute("sandbox"),this.element.setAttribute("aria-hidden","true"),this.AOt=this.element.getAttribute("data-consent-notification-id"),null!=this.AOt&&(this.SOt=(t=this.element,function(t,e,n,i){return At(t,"userNotificationManager",n,void 0).then((function(t){return function(t,e,n){return st(t,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","userNotificationManager",n,n,n)}(t,0,n)}))}(t,0,"amp-user-notification")).then((function(t){return t.get(e.AOt)}))),"immediate"==this.element.getAttribute("trigger")&&this.MOt()},i.layoutCallback=function(){return this.MOt()},i.detachedCallback=function(){for(var t in this.NOt&&(this.NOt.dispose(),this.NOt=null),this.ROt&&(this.ROt.dispose(),this.ROt=null),this.ET)this.ET[t].dispose(),delete this.ET[t]},i.resumeCallback=function(){var t=this;this._Ot&&this._Ot.then((function(){t.sI.maybeInitIframeTransport(t.element)}))},i.unlayoutCallback=function(){var e=this;return!this.getAmpDoc().isVisible()&&(this._Ot&&this._Ot.then((function(){e.sI.deleteIframeTransport()})),t.prototype.unlayoutCallback.call(this))},i.MOt=function(){var t=this;if(this._Ot)return this._Ot;var e=this.getAmpDoc();return this._Ot=e.whenFirstVisible().then((function(){return _t(t.win).promise(1)})).then((function(){return t.SOt})).then((function(){return Promise.all([(t=e,ht(t,"amp-analytics-instrumentation")),An(e)]);var t})).then((function(e){t.OOt=e[0],t.cK=e[1];var n=new o,i=function(){var e=new On(t.element).loadConfig();n.resolve(e)};return t.yOt?i():xn(t.element,i,20),n.promise})).then((function(e){return t.d_=e,new Gn(t.win,t.element,t.d_).write()})).then((function(){t.sI=new gr(t.getAmpDoc(),t.d_.transport||{})})).then(this.DOt.bind(this)).then(this.LOt.bind(this)).then(this.kOt.bind(this)),this._Ot.then((function(){t.collapse()})),this._Ot},i.xOt=function(){return!!this.yOt||(null==this.COt&&(this.COt=De(this.element)),this.COt)},i.DOt=function(){var t=this;return this.d_.triggers&&Object.values(this.d_.triggers).some((function(t){var e;return null==t||null===(e=t.session)||void 0===e?void 0:e.persistEvent}))&&this.wM?sn(this.getAmpDoc()).then((function(e){t.POt=e})):r()},i.LOt=function(){var t=this;if(this.UOt()){var e=this.ye();return nt().fine(e,"User has opted out. No hits will be sent."),r()}if(this.jOt(),!this.d_.triggers){var n=this.ye();return this.user().warn(n,"No triggers were found in the config. No analytics data will be sent."),r()}this.HOt(this.d_.extraUrlParams,this.d_.extraUrlParamsReplaceMap),this.NOt=this.OOt.createAnalyticsGroup(this.element),this.sI.maybeInitIframeTransport(this.element);var i=[];for(var o in this.d_.triggers)!w(this.d_.triggers,o)||function(){var e=t.d_.triggers[o],n=t.FOt({},e,void 0,!0),r=t.ye();if(!e)return t.user().error(r,"Trigger should be an object: ",o),"continue";var s,a=e.request||e.parentPostMessage&&t.xOt();if(!e.on||!a){var u=t.xOt()?'/"parentPostMessage"':"";return t.user().error(r,'"on" and "request"'+u+" attributes are required for data to be collected."),"continue"}if(t.yTt){var c=e.on;if(!("click"!==(s=c)&&"browser-event"!==s&&"custom"!==s&&"hidden"!==s&&"ini-load"!==s&&"render-start"!==s&&"scroll"!==s&&"story"!==s&&"timer"!==s&&"video"!==s&&"visible"!==s||Sr.includes(c)))return t.user().error(r,c+" is not supported for amp-analytics in scope"),"continue"}t.HOt(e.extraUrlParams,t.d_.extraUrlParamsReplaceMap),i.push(t.VOt(e).then((function(i){if(i){if(t.yTt){if(!t.element.parentElement)return;return e.selector=t.element.parentElement.tagName,e.selectionMethod="closest",t.qOt(e)}return e.selector&&!v(e.selector)?t.cK.expandTemplate(e.selector,n,t.element).then((function(n){return e.selector=n,t.qOt(e)})):t.qOt(e)}})))}();return Promise.all(i)},i.preload=function(t,e){Rt(this.win).preload(this.getAmpDoc(),t,e)},i.qOt=function(t){if(!this.NOt)return r();try{return this.NOt.addTrigger(t,this.bk.bind(this,t))}catch(e){return B(this.ye(),'Failed to process trigger "'+t.on+'"',e),r()}},i.HOt=function(t,e){if(t&&e){var n=0;for(var i in e){if(++n>16){var r=this.ye();this.user().error(r,"More than 16 extraUrlParamsReplaceMap rules aren't allowed; Skipping the rest");break}for(var o in t){var s=o.replace(i,e[i]);if(o!=s){var a=t[o];delete t[o],t[s]=a}}}}},i.UOt=function(){var t=this.d_.optoutElementId;if(t&&this.win.document.getElementById(t))return!0;if(!this.d_.optout)return!1;for(var e=this.d_.optout.split("."),n=this.win,i=0;i<e.length;i++){if(!n)return!1;n=n[e[i]]}return n()},i.jOt=function(){var t=this;if(this.d_.requests){if(this.d_.requests){for(var e in this.d_.requests)w(this.d_.requests,e)&&(this.d_.requests[e].baseUrl||(this.user().error(Tr,"request must have a baseUrl"),delete this.d_.requests[e]));for(var n in this.d_.requests)this.d_.requests[n].baseUrl=g(this.d_.requests[n].baseUrl,(function(e){var n=t.d_.requests[e];return n&&n.baseUrl||"${"+e+"}"}),5);var i={};for(var r in this.d_.requests)if(w(this.d_.requests,r)){var o=this.d_.requests[r];i[r]=new ur(this.element,o,Rt(this.win),this.sI,this.yTt)}this.ET=i}}else if(!this.xOt()){var s=this.ye();this.user().warn(s,"No request strings defined. Analytics data will not be sent from this page.")}},i.kOt=function(){var t=this;this.ROt=new tr(this.getAmpDoc(),this.d_,this.wM,this.element);var e=function(){t.ROt.init()};this.yOt?e():xn(this.element,e,10)},i.bk=function(t,e){var n,i;null===(n=t.session)||void 0===n||!n.persistEvent||null===(i=this.POt)||void 0===i||i.updateEvent(this.wM);for(var r=v(t.request)?t.request:[t.request],o=0;o<r.length;o++){var s=r[o];this.GOt(s,t,e)}},i.GOt=function(t,e,n){var i=this;if(!this.element.ownerDocument.defaultView){var r=this.ye();rt().warn(r,"request against destroyed embed: ",e.on)}var o=this.ET[t],s=this.xOt()&&e.parentPostMessage;if(null!=t&&!o){var a=this.ye();if(this.user().error(a,"Ignoring request for event. Request string not found: ",e.request),!s)return}this.BOt(e,n).then((function(t){var r=i.element.ownerDocument&&i.element.ownerDocument.defaultView;t&&r&&(i.WOt(o,e,n),e.parentPostMessage&&i.xOt()&&U(i.win)&&i.$Ot(e,n))}))},i.WOt=function(t,e,n){if(t){this.d_.vars.requestCount++;var i=this.FOt(n,e);t.send(this.d_.extraUrlParams,e,i)}},i.$Ot=function(t,e){var n=this,i=t.parentPostMessage,r=this.FOt(e,t);(function(t,e,n,i,r,o){var s=bn(t),a=Mt(o),u=s.getMacros(o);r.freezeVar("extraUrlParams");var c=s.expandTemplate(e,r,o).then((function(t){return a.expandStringAsync(t,u)}));return e.indexOf("${extraUrlParams}")<0?c:c.then((function(t){var e=Xt(Xt({},n),i.extraUrlParams);return cr(s,a,e,r,u,o).then((function(e){return ar(t,[{extraUrlParams:e}])}))}))})(this.getAmpDoc(),i,this.d_.extraUrlParams,t,r,this.element).then((function(t){n.win.parent.postMessage(t,"*")}))},i.VOt=function(t){var e=this,n=t.sampleSpec,i=this.ye();if(!n)return Promise.resolve(!0);var r=n.sampleOn;if(!r)return this.user().error(i,"Invalid sampleOn value."),Promise.resolve(!0);var s=parseFloat(n.threshold);if(s>=0&&s<=100){var a=new o,u=function(){var n=e.FOt({},t),i=e.DAt(r,n).then((function(t){return e.IOt.uniform(t)})).then((function(t){return 100*t<s}));a.resolve(i)};return this.yOt?u():xn(this.element,u,10),a.promise}return nt().error(i,"Invalid threshold for sampling."),Promise.resolve(!0)},i.BOt=function(t,e){var n=this.FOt(e,t),i=this.YOt(this.d_.enabled,n),r=this.YOt(t.enabled,n);return Promise.all([i,r]).then((function(t){return ot(2===t.length),t[0]&&t[1]}))},i.YOt=function(t,e){return void 0===t?Promise.resolve(!0):"boolean"==typeof t?Promise.resolve(t):this.DAt(t,e).then((function(t){return yn(t)}))},i.DAt=function(t,e){var n=this;return this.cK.expandTemplate(t,e,this.element).then((function(t){return Mt(n.element).expandUrlAsync(t,n.cK.getMacros(n.element))}))},i.ye=function(){return"AmpAnalytics "+(this.element.getAttribute("id")||"<unknown id>")},i.FOt=function(t,e,n,i){var r={};return Rn(this.d_.vars,r),Rn(e.vars,r),Rn(t.vars,r),new ln(r,n,i)},n}(t.BaseElement);t.registerServiceForDoc("amp-analytics-instrumentation",Qi),t.registerServiceForDoc("activity",Bt),mr=Xe,gt(vr=ft(vr=t.win),vr,"amp-analytics-linker-reader",mr),t.registerServiceForDoc("amp-analytics-session",tn),t.registerServiceForDoc("amp-analytics-variables",gn),t.registerElement(Tr,br)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});